(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{164:function(e,t,n){var content=n(188);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(61).default)("00c2f18f",content,!0,{sourceMap:!1})},165:function(e,t,n){var content=n(190);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(61).default)("b173dc76",content,!0,{sourceMap:!1})},171:function(e,t,n){var content=n(211);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(61).default)("6759f5ab",content,!0,{sourceMap:!1})},187:function(e,t,n){"use strict";var r=n(164);n.n(r).a},188:function(e,t,n){(t=n(60)(!1)).push([e.i,".webglbg{position:fixed;top:0;left:0;right:0;bottom:0;z-index:-3;opacity:1}",""]),e.exports=t},189:function(e,t,n){"use strict";var r=n(165);n.n(r).a},190:function(e,t,n){(t=n(60)(!1)).push([e.i,'.svgarr{display:block;margin:7px 0;cursor:pointer;fill:#f1f1f1}.crdts{color:#f1f1f1;position:absolute;bottom:0;right:0}.crdts a,.crdts small{color:#f1f1f1;line-height:11px;font-size:11px}.crdts a{font-weight:700;text-decoration:none}.wtsubmit{transform:translateX(-102%);background-color:#121212;z-index:0;overflow:hidden}.wtsubmit,.wtsubmit:after,.wtsubmit:before{width:56px;transition:transform .6s cubic-bezier(.25,1,.25,1)}.wtsubmit:after,.wtsubmit:before{content:"JOIN";color:#232323;border-radius:0;border:0;height:45px;line-height:45px;font-weight:900;cursor:pointer;background-color:#f1f1f1;position:absolute;top:0;left:0;right:0;bottom:0;padding:0 14px;z-index:2;transform:translateX(-101%)}.wtsubmit:after{content:"ðŸ™Œ";font-size:30px;z-index:3}.wtsubmit.success:after,.wtsubmit:hover:before{transform:translateX(0)}.wtmail{background-color:#f1f1f1;transform:translateX(28px);transition:transform .6s cubic-bezier(.25,1,.25,1);z-index:1}.fcntr input,.wtsubmit.active{transform:translateX(0)}.wtsubmit.active{z-index:0}.wtmail.active{transform:translateX(0)}.scrsht{transform:translateZ(0);will-change:transform,opacity;opacity:0}.scrone{transform:translateY(0) translateZ(0);opacity:1}.ctct{position:fixed;top:0;width:100%;max-height:400px;height:30vh;min-height:220px;align-items:center;overflow:hidden;z-index:4;transform:translateY(-101%) translateZ(0);will-change:transform;background-size:200px;display:flex;justify-content:center;vertical-align:middle;background-color:#ee654e;background-image:url(/img/text_w.webp);background-size:54px}.app-store-icon{width:130px;position:absolute;right:30px;top:30px}.ctctbtn{text-decoration:underline;background-color:#ee654e;background-image:url(/img/text_w.webp);background-size:54px;font-weight:700;cursor:pointer;border-radius:40px;color:#f1f1f1;text-decoration:none;padding:14px 28px;text-align:center;font-size:14px}@media (max-width:540px){.ctctbtn{font-size:13px}}button{background-image:url(/img/webgl_text_blk.webp);background-size:14px;background-color:#121212;color:#f1f1f1;border-radius:0;border:0;height:45px;line-height:45px;padding:0 14px;font-weight:900;cursor:pointer}button:focus{outline:none}.overlayct{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#121212;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}input{background-color:#f1f1f1;border:none;padding:0 14px;width:252px;font-weight:600;color:#121212;font-size:14px;height:45px}input::-moz-placeholder{font-weight:300;font-size:12px;height:45px;text-align:center;color:#676767}input:-ms-input-placeholder{font-weight:300;font-size:12px;height:45px;text-align:center;color:#676767}input::-ms-input-placeholder{font-weight:300;font-size:12px;height:45px;text-align:center;color:#676767}input::placeholder{font-weight:300;font-size:12px;height:45px;text-align:center;color:#676767}input::-webkit-input-placeholder{font-weight:300;font-size:12px;height:45px;text-align:center;color:#676767}input:focus{outline:none}.fcntr{justify-content:flex-start;display:flex}.bgw{position:fixed;top:0;left:0;opacity:1;background-image:#f1f1f1;background-image:url(/img/text_bg.webp);box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22);height:200%;margin:0;width:200%;z-index:-2;opacity:0}.pgn,.pgs,.pgt{display:block;float:left}.pgs{font-size:44px;font-weight:300}.pgn{margin-top:-10px}.pgt{margin-top:10px}.bgo{position:fixed;top:0;left:0;right:0;bottom:0;opacity:1;background-image:url(/img/textu_w.webp);margin:0;z-index:-3;opacity:0}.stitle h2{font-size:42px;margin-bottom:42px;line-height:42px}label{position:absolute;opacity:0}.mts{margin-top:180px}.lilytxt{width:100%;display:block;text-align:center;font-style:italic}.stitle.vuyb{margin-left:-9px;margin-top:-133px}p{margin:14px 0}.n{position:fixed;top:0;z-index:3;padding:56px;-webkit-backface-visibility:hidden}.f,.n{width:100%}.f{position:absolute;right:0;left:0;top:50%;height:100px;margin-top:50px}.n h1{width:160px;font-size:41px;line-height:41px;padding:7px;transform:translateX(50vw);margin-left:-135px;display:block;float:left;text-align:center;font-weight:900;opacity:0}.n_b_c{position:absolute;overflow:hidden;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;transform:translateZ(0);z-index:10;right:56px;opacity:0;line-height:27px}@media (max-width:540px){.ft a{font-size:24px}.n_b_c{line-height:55px}}.n button{padding:14px 28px;border-radius:28px;line-height:21px;margin:7px;font-size:14px;font-weight:700;font-family:Rounds Neue;z-index:9;transform:translateZ(0);background-color:#f1f1f1;opacity:0}body{background-color:#f1f1f1;color:#121212}.c,body{overflow:hidden;width:100%}.c{position:fixed;margin:0 auto;min-height:100vh;height:100%;justify-content:center;align-items:center;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden}.c,.s1 h1{text-align:center}.s1 h1{font-size:7vw;line-height:7vw;margin-top:calc(50vh - 7vw - 139px);max-width:80%;margin-left:auto;margin-right:auto;opacity:0}.s p{font-size:20px;letter-spacing:-.012em}p.nar{text-align:center;font-size:5vw;margin:48px 0;font-weight:900}.lt{display:inline-block;transform:scale(.3);will-change:transform}.tbl.rvl{transform:translateY(10px)}.tbl{display:block;font-size:3vw;width:60%;text-align:left;position:absolute;bottom:56px;width:100%;max-width:560px;width:55%;padding:14px}.ttl{top:206px;bottom:auto}.tblbg{border:1px solid #898989;background-color:#e5e5e5;display:block;width:60%;text-align:left;position:fixed;bottom:56px;left:56px;width:100%;max-width:560px;width:55%;opacity:0;z-index:-1;padding:14px;-webkit-backface-visibility:hidden;background-image:url(/img/textu_w.webp)}.r{position:relative}.n h1 small{position:absolute;font-size:13px;width:210px;line-height:13px;bottom:-14px;left:-20px;text-align:center;color:#ee644d}.n h1 svg{fill:#ee644d}.ft{position:absolute;bottom:14px;height:140px;width:100%;display:flex;justify-content:space-between}.ft,.ft a{color:#f1f1f1}.ft a{font-size:34px;text-decoration:none}.ft div{float:left}.rvl.lst{height:100%}.stitle.lst{position:absolute;width:100%}.stitle.lst h2{color:#f1f1f1;text-align:left;width:100%}@media (max-width:540px){.ft{justify-content:space-around}.stitle.lst h2{text-align:center}.fcntr{justify-content:center}.fcntr input{transform:translateX(28px)}}@media (min-width:1240px){svg.phone{right:40px;margin-top:0}}.v{width:100%}.s{height:100vh;max-height:100vh;position:relative;padding:167px 56px 56px;text-align:left;overflow:hidden}.s.lst{padding-top:56px}.webgl{top:0;bottom:0;left:0;z-index:-2;opacity:0}.phonectnr,.webgl,.webglphone{position:fixed;right:0;pointer-events:none}.phonectnr,.webglphone{bottom:26px;width:600px;max-width:104vw;z-index:-1;transform:translateZ(0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.phonectnr img{position:absolute;width:100%;opacity:0;transform:translateY(1px) translateZ(0);will-change:opacity}@media (max-width:540px){.phonectnr,.webglphone{top:auto;transform:translateZ(0) translateX(-50%);left:50%;max-width:130vw;bottom:94px;z-index:-1}p.nar{margin:14px 0}.mts{margin-top:28px}.s p{font-size:16px}.n{padding:18px 0}.n_b_c{right:14px;line-height:15px;top:19px;padding:6px 5px}.n h1{margin-left:-80px}.s{padding:111px 18px 18px}.s.lst{padding-top:148px}.scontent{width:100%}.stitle h2{width:100%;font-size:24px;margin-bottom:14px;line-height:24px}.tbl{width:100%;left:0;bottom:0;padding:14px 14px 0;margin:7px;width:calc(100% - 14px)}.tblbg{padding:7px;width:calc(100% - 14px);left:7px;bottom:7px;pointer-events:none}}',""]),e.exports=t},210:function(e,t,n){"use strict";var r=n(171);n.n(r).a},211:function(e,t,n){(t=n(60)(!1)).push([e.i,".lodr{top:50%;z-index:3;font-size:100px;transform:translate3d(-50%,-50%,0);line-height:100px;font-weight:900;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}#slogo,.lodr{position:fixed;left:50%}#slogo{top:50%;transform:translateZ(0) translateX(-51%) translateY(-50%);width:141px;top:85px}.mt0{margin-top:0;margin-bottom:0}@media (max-width:540px){#slogo{top:47px;margin-left:0}.mt0{margin-top:0;margin-bottom:14px}}#i{transform-origin:center}#uy{opacity:0;transform:translateY(1.7%)}",""]),e.exports=t},212:function(e,t,n){"use strict";n.r(t);var r=n(29),o=n(25),l=(n(31),n(162),n(81),n(12),n(155)),c=(n(184),n(32),n(33),n(156),n(157)),d=n(173),h=n(158),f=n(159),m=n(161);function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y="\n\t\nuniform vec4 uSize; \t\t//w h t l \nuniform float rot;\nvarying vec2 vUv;\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\nvoid main(){\n\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}\n",w="\n\t\nvarying vec2 vUv;\nuniform float repeatNb;\nuniform float cover;\nuniform float alpha;\nuniform sampler2D uTexture;\nuniform vec2 imageResolution;\nuniform vec2 resolution;\n\nvoid main(){\n\n\tif (cover == 1.0) {\n\t\tvec2 ratio = vec2(\n\t\t\tmin((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0),\n\t\t\tmin((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0)\n\t\t);\n\t\tvec2 uv = vec2(\n\t\t\tvUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n\t\t\tvUv.y * ratio.y + (1.0 - ratio.y) * 0.5\n\t\t);\n\t\tgl_FragColor = texture2D( uTexture, uv);\n\t\tif(texture2D( uTexture, uv * repeatNb).a - 0.98 < 0.0) {\n\t\t\tgl_FragColor.a = 0.0;\n\t\t} else {\n\t\t\tgl_FragColor.a = alpha;\n\t\t}\n\t} else {\n\t\tgl_FragColor = texture2D( uTexture, vUv * repeatNb);\n\t\tif(texture2D( uTexture, vUv * repeatNb).a - 0.8 < 0.0) {\n\t\t\tgl_FragColor.a = 0.0;\n\t\t} else {\n\t\t  gl_FragColor.a = alpha;\n\t\t}\n\t}\n\t\n}\n",x=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(v()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.width,d=void 0===o?1:o,h=t.height,f=void 0===h?1:h,m=t.top,v=void 0===m?0:m,x=t.left,S=void 0===x?0:x,A=t.texture,_=void 0===A?null:A,T=t.fragmentShader,M=void 0!==T&&T,O=t.geo,R=void 0!==O&&O;return Object(c.a)(this,r),(e=n.call(this,R,new l.yb({uniforms:{uTexture:{type:"t",value:_},uSize:{type:"v4",value:new l.Rb(1,1,0,0)},rot:{type:"f",value:0},uKd:{type:"f",value:.9},texturebg:{type:"t",value:null},texturehover:{type:"t",value:null},texture:{type:"t",value:null},baseT:{type:"t",value:null},baseBg:{type:"t",value:null},baseHv:{type:"t",value:null},alpha:{type:"f",value:1},coverY:{type:"f",value:1},scale:{type:"f",value:12},smoothness:{type:"f",value:.01},seed:{type:"f",value:10.9898},cover:{type:"f",value:0},centerX:{type:"f",value:0},coverX:{type:"f",value:1},repeatNb:{type:"f",value:5},intensity:{type:"f",value:.4},dispFactor:{type:"f",value:0},angle:{type:"f",value:Math.PI/4},disp:{type:"t",value:null},resolution:{type:"v2",value:new l.Pb(1,1)},parallax:{type:"v2",value:new l.Pb(1,1)},imageResolution:{type:"v2",value:new l.Pb(1,1)}},vertexShader:y,fragmentShader:M||w,depthWrite:!1}))).material.uniforms.uTexture.value&&(e.material.uniforms.uTexture.value.needsUpdate=!0,e.material.uniforms.uTexture.value.wrapS=e.material.uniforms.uTexture.value.wrapT=l.ub),e.frustumCulled=!1,e.top=v,e.left=S,e.width=d,e.height=f,e._pixels=[!1,!1,!1,!1],e._componentSetters=[e.setWidth,e.setHeight,e.setTop,e.setLeft],e._components=["width","height","top","left"],e.screenSize=new l.Pb(1,1),e.setSize(d,f),e.setOffset(v,S),e}return Object(d.a)(r,[{key:"setScreenSize",value:function(e,t){}},{key:"setSize",value:function(e,t){this.setWidth(e),this.setHeight(t)}},{key:"setWidth",value:function(e){this.width=e,"string"==typeof e?(this.material.uniforms.uSize.value.x=parseInt(e)/this.screenSize.x,this._pixels[0]=!0):(this.material.uniforms.uSize.value.x=e,this._pixels[0]=!1)}},{key:"setHeight",value:function(e){this.height=e,"string"==typeof e?(this.material.uniforms.uSize.value.y=parseInt(e)/this.screenSize.y,this._pixels[1]=!0):(this.material.uniforms.uSize.value.y=e,this._pixels[1]=!1)}},{key:"setOffset",value:function(e,t){this.setLeft(t),this.setTop(e)}},{key:"setTop",value:function(e){this.top=e,"string"==typeof e?(this.material.uniforms.uSize.value.z=parseInt(e)/this.screenSize.y,this._pixels[2]=!0):(this.material.uniforms.uSize.value.z=e,this._pixels[2]=!1)}},{key:"setLeft",value:function(e){this.left=e,"string"==typeof e?(this.material.uniforms.uSize.value.w=parseInt(e)/this.screenSize.x,this._pixels[3]=!0):(this.material.uniforms.uSize.value.w=e,this._pixels[3]=!1)}}]),r}(l.S),S=n(175),A=(n(186),{mounted:function(){},methods:{start:function(e){var t=this;e.webpPng=window.webpSupport?"webp":"png",e.webpJpg=window.webpSupport?"webp":"jpg",e.resolutionPfx=window.innerWidth<540?"xs_":"";var n=function(t,n,r,o,c,d,h){var f=new x({width:1,height:1,top:0,left:0,texture:r,texturebg:o,texturehover:c,fragmentShader:e.fragment,geo:new l.lb(window.innerWidth,window.innerHeight,1)});f.setScreenSize(window.innerWidth,window.innerHeight),f.material.transparent=!0,f.material.opacity=1,f.material.uniforms.uTexture.value.needsUpdate=!0,f.material.uniforms.texturebg.value=o,f.material.uniforms.texturehover.value=c,f.material.uniforms.texture.value=r,f.material.uniforms.texture.value.center.x=.5,f.material.uniforms.texture.value.needsUpdate=!0,f.material.uniforms.texturebg.value.needsUpdate=!0,f.material.uniforms.texturehover.value.needsUpdate=!0,f.material.uniforms.baseT.value=n,f.material.uniforms.baseBg.value=d,f.material.uniforms.baseHv.value=h,f.material.uniforms.disp.value=t,f.material.uniforms.texture.value.wrapS=f.material.uniforms.texture.value.wrapT=l.h,f.material.uniforms.baseT.value.wrapS=f.material.uniforms.baseT.value.wrapT=l.h,f.material.uniforms.disp.value.wrapS=f.material.uniforms.disp.value.wrapT=l.h,f.material.uniforms.texturebg.value.wrapS=f.material.uniforms.texturebg.value.wrapT=l.h,f.material.uniforms.texturehover.value.wrapS=f.material.uniforms.texturehover.value.wrapT=l.h,f.material.uniforms.dispFactor.value=0;var image=r.image;return f.material.uniforms.imageResolution.value={x:image.width,y:image.height},f.material.uniforms.resolution.value={x:window.innerWidth,y:window.innerHeight},f};return new Promise((function(r,o){e.fragment="\n          uniform float alpha;\n          uniform vec2 imageResolution;\n          uniform vec2 resolution;\n          uniform vec2 parallax;\n          uniform float repeatNb;\n          uniform sampler2D texture;\n          uniform sampler2D texturebg;\n          uniform sampler2D texturehover;\n\n          uniform sampler2D baseT;\n          uniform sampler2D baseBg;\n          uniform sampler2D baseHv;\n\n          varying vec3 vNormal;\n          varying vec2 vUv;\n          uniform float dispFactor;\n          uniform sampler2D disp;\n          uniform float angle;\n          mat2 rot(float angle) {\n            float s = sin(angle);\n            float c = cos(angle);\n            return mat2(c, -s, s, c);\n          }\n\n\n          uniform float scale; // = 4.0\n          uniform float smoothness; // = 0.01\n\n          uniform float seed; // = 24.9898\n\n          float random(vec2 co)\n          {\n              highp float a = seed;\n              highp float b = 78.233;\n              highp float c = 43758.5453;\n              highp float dt= dot(co.xy ,vec2(a,b));\n              highp float sn= mod(dt,3.14);\n              return fract(sin(sn) * c);\n          }\n\n          float noise (in vec2 st) {\n              vec2 i = floor(st);\n              vec2 f = fract(st);\n\n              // Four corners in 2D of a tile\n              float a = random(i);\n              float b = random(i + vec2(1.0, 0.0));\n              float c = random(i + vec2(0.0, 1.0));\n              float d = random(i + vec2(1.0, 1.0));\n\n              // Smooth Interpolation\n\n              // Cubic Hermine Curve.  Same as SmoothStep()\n              vec2 u = f*f*(3.0-2.0*f);\n              // u = smoothstep(0.,1.,f);\n\n              // Mix 4 coorners porcentages\n              return mix(a, b, u.x) +\n                      (c - a)* u.y * (1.0 - u.x) +\n                      (d - b) * u.x * u.y;\n          }\n\n          vec4 transition (vec4 text, vec4 text2) {\n            vec4 from = text;\n            vec4 to = text2;\n            float n = noise(vUv * scale);\n            \n            float p = mix(-smoothness, 1.0 + smoothness, dispFactor);\n            float lower = p - smoothness;\n            float higher = p + smoothness;\n            \n            float q = smoothstep(lower, higher, n);\n            \n            // return mix(\n            //   from,\n            //   to,\n            //   1.0 - q\n            // );\n            return mix(\n              from,\n              to,\n              1.0 - q\n            );\n          }\n\n          void main() {\n            vec2 ratio = vec2(\n              min((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0),\n              min((resolution.y / resolution.x) / (imageResolution.y / imageResolution.x), 1.0)\n            );\n\n            vec2 uv = vec2(\n              vUv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n              vUv.y * ratio.y + (1.0 - ratio.y) * 0.5\n            );\n\n            vec2 ratioBg = vec2(\n              min((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0) * 0.95,\n              1.0\n            );\n\n            vec2 uvBg = vec2(\n              vUv.x * ratioBg.x + (1.0 - ratioBg.x) * 0.5,\n              vUv.y * ratioBg.y + (1.0 - ratioBg.y) * 0.5\n            );\n            vec2 uvBgP = vec2(\n              vUv.x * ratioBg.x + parallax.x + (1.0 - ratioBg.x) * 0.5,\n              vUv.y * ratioBg.y + (1.0 - ratioBg.y) * 0.5\n            );\n\n            vec3 c;\n            vec3 b;\n\n            vec4 Bc = texture2D(baseT, uv);\n            vec4 Bb = texture2D(baseBg, uvBg);\n            vec4 Ba = texture2D(baseHv, uvBgP);\n            b = Ba.rgb * Ba.a + Bc.rgb * Bc.a + Bb.rgb * Bb.a * (1.0 - Ba.a - Bc.a);  // blending equation\n\n            vec4 Cc = texture2D(texture, uv);\n            vec4 Cb = texture2D(texturebg, uvBg);\n            vec4 Ca = texture2D(texturehover, uvBgP);\n            c = Ca.rgb * Ca.a + Cc.rgb * Cc.a + Cb.rgb * Cb.a * (1.0 - Ca.a - Cc.a);  // blending equation\n\n\n            vec4 _texture1 = vec4(b, 1.0);\n            vec4 _texture2 = vec4(c, 1.0);\n            gl_FragColor = transition(_texture1, _texture2);\n            if(transition(_texture1, _texture2).a - 0.1 < 0.0) {\n                gl_FragColor.a = 0.0;\n            } else {\n              gl_FragColor.a = alpha;\n            }\n          }",e.fragmentSimple="\n          uniform float alpha;\n          uniform vec2 imageResolution;\n          uniform vec2 resolution;\n          uniform vec2 parallax;\n          uniform float repeatNb;\n          uniform sampler2D texturebg;\n          uniform sampler2D texturehover;\n\n          varying vec3 vNormal;\n          varying vec2 vUv;\n\n          uniform float dispFactor;\n          uniform sampler2D disp;\n\n          void main() {\n            vec2 ratioBg = vec2(\n              min((resolution.x / resolution.y) / (imageResolution.x / imageResolution.y), 1.0) * 0.9,\n              1.0\n            );\n            vec2 uvB = vec2(\n              vUv.x * ratioBg.x + (1.0 - ratioBg.x) * 0.5,\n              vUv.y * ratioBg.y + (1.0 - ratioBg.y) * 0.5\n            );\n            vec2 uvBg = vec2(\n              vUv.x * ratioBg.x + parallax.x + (1.0 - ratioBg.x) * 0.5,\n              vUv.y * ratioBg.y + (1.0 - ratioBg.y) * 0.5\n            );\n\n            vec3 b;\n\n            vec4 Bb = texture2D(texturebg, uvB);\n            vec4 Ba = texture2D(texturehover, uvBg);\n            b = Ba.rgb * Ba.a + Bb.rgb * Bb.a * (1.0 - Ba.a);  // blending equation\n\n            gl_FragColor = vec4(b, 1.0);\n            gl_FragColor.a = alpha;\n          }",e.$root.bg={scene:new l.wb,renderer:new l.Ub({alpha:!0,antialias:!1,autoClear:!1}),camera:new l.jb(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e3)},e.$container=document.getElementsByClassName("webglbg")[0],e.$root.bg.renderer.setSize(e.$container.clientWidth,e.$container.clientHeight),e.$root.bg.renderer.setPixelRatio(1.5),e.$root.bg.camera.position.z=1,e.$root.bg.camera.lookAt(new l.Qb),(new l.Hb).load("img/textu_w."+e.webpPng,(function(o){e.screenQuad=new x({width:1.5,height:2.5,top:-1,left:-.25,texture:o,geo:new l.mb(window.innerWidth,window.innerHeight,1,100)}),e.screenQuad.geometry.verticesNeedUpdate=!0,e.screenQuad.material.uniforms.uTexture.value.needsUpdate=!0,e.screenQuad.material.uniforms.rot.value=-Math.PI/16,e.screenQuad.material.transparent=!0,e.screenQuad.material.opacity=1,e.screenQuad.renderOrder=999,e.screenQuad.material.uniforms.uTexture.value.wrapS=e.screenQuad.material.uniforms.uTexture.value.wrapT=l.ub,e.$root.bg.screencanvas=e.screenQuad,(new l.Hb).load("img/transp."+e.webpPng,(function(o){e.$root.$emit("updateProgress",{value:30}),t.initPhone(e),(new l.Hb).load("img/bg_top."+e.webpJpg,(function(t){(new l.Hb).load("img/"+e.resolutionPfx+"hover_top."+e.webpPng,(function(c){e.$root.$emit("updateProgress",{value:51}),(new l.Hb).load("img/"+e.resolutionPfx+"before."+e.webpPng,(function(d){e.$root.$emit("updateProgress",{value:62}),(new l.Hb).load("img/transp."+e.webpPng,(function(h){(new l.Hb).load("img/bg_bottom."+e.webpJpg,(function(f){e.$root.$emit("updateProgress",{value:73}),(new l.Hb).load("img/"+e.resolutionPfx+"hover_bottom."+e.webpPng,(function(m){(new l.Hb).load("img/"+e.resolutionPfx+"after."+e.webpPng,(function(l){e.$root.$emit("updateProgress",{value:81}),e.screenQuadO=n(h,o,d,t,c,t,c),e.screenQuad2=n(h,d,l,t,c,t,c),e.screenQuad2.position.y=window.innerHeight,e.$root.bg.screencanvasO=e.screenQuadO,e.$root.bg.screencanvas2=e.screenQuad2,e.$root.bg.screencanvasO.material.uniforms.alpha.value=0,e.$root.bg.screencanvas2.material.uniforms.alpha.value=0,e.$root.bg.screencanvas.material.uniforms.alpha.value=0,e.$root.bg.scene.add(e.screenQuadO),e.$root.bg.scene.add(e.screenQuad2),e.$root.bg.scene.add(e.screenQuad),document.querySelector(".webglbg").appendChild(e.$root.bg.renderer.domElement),e.render(e),r(),Object(S.a)({targets:e.$root.bg.screencanvas.material.uniforms.alpha,value:[0,1],duration:1300,easing:"easeOutSine",changeBegin:function(t){e.bgReqOn=!0},changeComplete:function(t){e.bgReqOn=!1},complete:function(){e.$root.bg.screencanvasO.material.uniforms.alpha.value=1,document.querySelector(".bgo").style.opacity=0}})})),e.screenQuadB=function(t,n){var r=new x({width:1,height:1,top:0,left:0,texturebg:t,texturehover:n,fragmentShader:e.fragmentSimple,geo:new l.lb(window.innerWidth,window.innerHeight,1)});r.material.transparent=!0,r.material.opacity=1,r.material.uniforms.texturebg.value=t,r.material.uniforms.texturehover.value=n,r.material.uniforms.texturebg.value.needsUpdate=!0,r.material.uniforms.texturehover.value.needsUpdate=!0,r.material.uniforms.texturebg.value.wrapS=r.material.uniforms.texturebg.value.wrapT=l.h,r.material.uniforms.texturehover.value.wrapS=r.material.uniforms.texturehover.value.wrapT=l.h;var image=t.image;return r.material.uniforms.imageResolution.value={x:image.width,y:image.height},r.material.uniforms.resolution.value={x:window.innerWidth,y:window.innerHeight},r}(f,m),e.screenQuadB.material.uniforms.rot.value=-Math.PI/16,e.screenQuadB.material.transparent=!0,e.screenQuadB.material.opacity=1,e.screenQuadB.renderOrder=999,e.screenQuadB.material.uniforms.repeatNb.value=1,e.screenQuadB.material.uniforms.cover.value=1,e.screenQuadB.material.uniforms.alpha.value=0,e.screenQuadB.material.uniforms.imageResolution.value={x:f.image.width,y:1416},e.screenQuadB.material.uniforms.resolution.value={x:window.innerWidth,y:window.innerHeight},e.$root.bg.screencanvasB=e.screenQuadB,e.$root.bg.scene.add(e.screenQuadB)}))}))}))}))}))}))}))}))}))},initPhone:function(e){(new l.Hb).load("img/transp."+e.webpPng,(function(t){(new l.Hb).load("img/xs."+e.webpPng,(function(n){document.querySelector(".webglphone").style.height=.7002*document.querySelector(".webglphone").clientWidth+"px",document.querySelector(".phonectnr").style.height=.7002*document.querySelector(".webglphone").clientWidth+"px";var r=document.querySelector(".webglphone").clientWidth,o=document.querySelector(".webglphone").clientHeight;e.$root.hover={scene:new l.wb,renderer:new l.Ub({alpha:!0,antialias:!0,autoClear:!1}),camera:new l.jb(r/-2,r/2,o/2,o/-2,1,1e3)},e.$root.hoverpg={scene:new l.wb,renderer:new l.Ub({alpha:!0,antialias:!1,autoClear:!1}),camera:new l.jb(window.innerWidth/-2,window.innerWidth/2,4,-4,1,1e3)},e.$root.hover.renderer.setPixelRatio(1.5),e.$root.hover.camera.position.z=1,e.$root.hover.camera.lookAt(new l.Qb),e.$root.hoverpg.renderer.setSize(window.innerWidth,8),e.$root.hoverpg.renderer.setPixelRatio(1.5),e.$root.hoverpg.camera.position.z=1,e.$root.hoverpg.camera.lookAt(new l.Qb),e.$root.hover.renderer.setSize(r,o),e.phoneMesh=new l.S(new l.lb(r,o,1),new l.yb({uniforms:{rot:{type:"f",value:0},uKd:{type:"f",value:.9},texture:{type:"t",value:n},scale:{type:"f",value:12},smoothness:{type:"f",value:.01},seed:{type:"f",value:10.9898},alpha:{type:"f",value:1},dispFactor:{type:"f",value:1},angle:{type:"f",value:Math.PI/4},disp:{type:"t",value:t},parallax:{type:"v2",value:new l.Pb(1,1)}},vertexShader:"\n          varying vec2 vUv;\n          void main(){\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n          }\n          ",fragmentShader:"\n            uniform float alpha;\n            uniform vec2 imageResolution;\n            uniform vec2 resolution;\n            uniform vec2 parallax;\n            uniform float repeatNb;\n            uniform sampler2D texture;\n            varying vec3 vNormal;\n            varying vec2 vUv;\n            uniform float dispFactor;\n            uniform sampler2D disp;\n            uniform float angle;\n            mat2 rot(float angle) {\n              float s = sin(angle);\n              float c = cos(angle);\n              return mat2(c, -s, s, c);\n            }\n            uniform float scale; // = 4.0\n            uniform float smoothness; // = 0.01\n            uniform float seed; // = 12.9898\n\n            // http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\n            float random(vec2 co)\n            {\n                highp float a = seed;\n                highp float b = 78.233;\n                highp float c = 43758.5453;\n                highp float dt= dot(co.xy ,vec2(a,b));\n                highp float sn= mod(dt,3.14);\n                return fract(sin(sn) * c);\n            }\n\n            // 2D Noise based on Morgan McGuire @morgan3d\n            // https://www.shadertoy.com/view/4dS3Wd\n            float noise (in vec2 st) {\n                vec2 i = floor(st);\n                vec2 f = fract(st);\n\n                // Four corners in 2D of a tile\n                float a = random(i);\n                float b = random(i + vec2(1.0, 0.0));\n                float c = random(i + vec2(0.0, 1.0));\n                float d = random(i + vec2(1.0, 1.0));\n\n                // Smooth Interpolation\n\n                // Cubic Hermine Curve.  Same as SmoothStep()\n                vec2 u = f*f*(3.0-2.0*f);\n                // u = smoothstep(0.,1.,f);\n\n                // Mix 4 coorners porcentages\n                return mix(a, b, u.x) +\n                        (c - a)* u.y * (1.0 - u.x) +\n                        (d - b) * u.x * u.y;\n            }\n\n              vec4 transition (vec2 uv) {\n                vec4 from = texture2D(texture, vUv);\n                vec4 to = texture2D(disp, vUv);\n                float n = noise(uv * scale);\n                \n                float p = mix(-smoothness, 1.0 + smoothness, dispFactor);\n                float lower = p - smoothness;\n                float higher = p + smoothness;\n                \n                float q = smoothstep(lower, higher, n);\n                \n                // return mix(\n                //   from,\n                //   to,\n                //   1.0 - q\n                // );\n                return mix(\n                  from,\n                  to,\n                  1.0 - q\n                );\n              }\n              void main() {\n                vec3 b;\n\n                //vec4 disp = texture2D(disp, vUv);\n                // vec2 dispVec = vec2(disp.r, disp.g);\n                // vec2 distortedPosition1 = vUv + rot(2.7854) * dispVec * 0.08 * dispFactor;\n\n                gl_FragColor = transition(vUv);\n                 if(transition(vUv).a - 0.9 < 0.0) {\n                  gl_FragColor.a = 0.0;\n                } else {\n                  gl_FragColor.a = alpha;\n                }\n              }"})),e.phoneMesh.material.uniforms.alpha.value=0,e.phoneMesh.material.uniforms.dispFactor.value=1,e.phoneMesh.material.transparent=!0,e.phoneMesh.material.opacity=1,e.$root.hover.scene.add(e.phoneMesh),e.$root.hover.phone=e.phoneMesh,(new l.Hb).load("img/text_w_xs."+e.webpPng,(function(text){var t=new l.S(new l.lb(2*window.innerWidth,8,1),new l.T({map:text}));t.material.transparent=!0,t.material.opacity=1,e.$root.hover.progress=t,e.$root.hover.progress.scale.x=1e-5,e.$root.hover.progress.renderOrder=9999;var n=new l.db;n.position.x=-window.innerWidth/2,n.add(e.$root.hover.progress),e.$root.hoverpg.scene.add(n)})),e.$root.hoverpg.renderer.domElement.style.position="fixed",e.$root.hoverpg.renderer.domElement.style.top="0",e.$root.hoverpg.renderer.domElement.style.left="0",document.querySelector(".webgl").appendChild(e.$root.hoverpg.renderer.domElement),document.querySelector(".webglphone").appendChild(e.$root.hover.renderer.domElement)}))}))},event_assign:function(){},render:function(e){e.$root.bg.renderer.render(e.$root.bg.scene,e.$root.bg.camera)},resize:function(){}}}),_=(n(187),n(28)),T=Object(_.a)(A,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("section",[t("div",{staticClass:"webglbg"})])}],!1,null,null,null).exports,M={},O=(n(189),Object(_.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._m(0),e._v(" "),e._m(1),e._v(" "),n("div",{staticClass:"overlayct"}),e._v(" "),n("div",{staticClass:"c"},[n("div",{staticClass:"v"},[e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),n("div",{staticClass:"s lst",attrs:{pg:"7"}},[n("div",{staticClass:"rvl lst"},[e._m(8),e._v(" "),n("div",{staticClass:"ft"},[e._m(9),e._v(" "),n("div",[n("small",[e._v("TOP")]),e._v(" "),n("h3",[n("svg",{staticClass:"svgarr",attrs:{version:"1",width:"34",height:"34",viewBox:"66 27 217 307",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M280 156c0 3-1 8-11 8h-46v155c0 3-1 5-3 7-3 3-6 4-11 4h-72c-9 0-12-7-12-11V167H83c-12 0-14-5-14-9 0-5 5-10 6-11 3-4 76-102 87-113 4-4 8-4 11-4 6 0 10 5 11 6l89 108c2 1 7 7 7 12z"}})])])])]),e._v(" "),e._m(10)])])]),e._v(" "),n("div",{staticClass:"tblbg"})]),e._v(" "),n("div",{staticClass:"webgl"}),e._v(" "),n("div",{staticClass:"webglphone"}),e._v(" "),e._m(11),e._v(" "),n("div",{staticClass:"bgo"})])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ctct"},[t("label",{attrs:{for:"wtmail1"}},[this._v("Email :")]),this._v(" "),t("input",{staticClass:"wtmail",attrs:{id:"wtmail1",name:"wtmail1",type:"text",placeholder:"ENTER EMAIL TO JOIN THE WAITLIST"}}),this._v(" "),t("button",{staticClass:"wtsubmit fromctct"},[this._v("JOIN")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"n"},[t("h1",[this._v("Vuybe")]),this._v(" "),t("a",{attrs:{href:"https://apps.apple.com/us/app/vuybe-global-community/id1470862395?utm_source=landingpage"}},[t("img",{staticClass:"app-store-icon",attrs:{src:"img/app-store-icon.png",alt:"app store icon"}})])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"s s1",attrs:{pg:"1"}},[t("div",{staticClass:"rvl"},[t("h1",[t("span",[this._v("Helping you vuybe")]),t("br"),t("span",[this._v("anywhere, anytime")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"s"},[t("div",{staticClass:"tbl",attrs:{pg:"2"}},[t("div",{staticClass:"rvl"},[t("p",{staticClass:"mt0"},[this._v("\n            In 2019, we communicate more than ever. But most of it is "),t("span",{staticClass:"bold"},[this._v("online")]),this._v(". Itâ€™s hard to feel "),t("span",{staticClass:"bold"},[this._v("human connection")]),this._v(". Vuybe helps you replace screen time with "),t("span",{staticClass:"bold"},[this._v("people time")]),this._v(".\n          ")])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"s"},[n("div",{staticClass:"tbl",attrs:{pg:"3"}},[n("div",{staticClass:"rvl"},[n("p",{staticClass:"mt0"},[e._v("\n           Vuybe guides you to  "),n("span",{staticClass:"bold"},[e._v("revitalize")]),e._v(" your old friendships, "),n("span",{staticClass:"bold"},[e._v("discover")]),e._v(" amazing new ones, and makes you feel more "),n("span",{staticClass:"bold"},[e._v("connected")]),e._v(" wherever you are - in the "),n("span",{staticClass:"bold"},[e._v("real world")]),e._v(".\n          ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"s"},[t("div",{staticClass:"tbl",attrs:{pg:"4"}},[t("div",{staticClass:"stitle"},[t("h2",[this._v("Discover")])]),this._v(" "),t("div",{staticClass:"rvl"},[t("p",[this._v("\n          See where in the world your friends are, without the snoopy feeling of exact location tracking.\n          ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"s"},[t("div",{staticClass:"tbl",attrs:{pg:"5"}},[t("div",{staticClass:"stitle"},[t("h2",[this._v("Reconnect")])]),this._v(" "),t("div",{staticClass:"rvl"},[t("p",[this._v("\n          Check which of your friends happen to be in the same city as you and reconnect in real life.\n          ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"s"},[t("div",{staticClass:"tbl",attrs:{pg:"6"}},[t("div",{staticClass:"stitle"},[t("h2",[this._v("Introduce")])]),this._v(" "),t("div",{staticClass:"rvl"},[t("p",[this._v("\n           Connect your friends in real life as they cross paths with each other, to create new friendships.\n          ")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"stitle lst"},[t("h2",{staticClass:"h2lst"},[this._v("Keep Calm & Vuybe On! ")]),this._v(" "),t("div",{staticClass:"fcntr"},[t("label",{attrs:{for:"wtmail2"}},[this._v("Email :")]),this._v(" "),t("input",{staticClass:"wtmail",attrs:{id:"wtmail2",name:"wtmail2",type:"text",placeholder:"ENTER EMAIL TO JOIN THE WAITLIST"}}),this._v(" "),t("button",{staticClass:"wtsubmit"},[this._v("JOIN")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("small",[this._v("CONTACT")]),this._v(" "),t("h3",[t("a",{attrs:{href:"mailto:info@vuybe.co"}},[this._v("INFO@VUYBE.CO")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"crdts"},[t("small",[this._v("Â© 2019 Vuybe")]),this._v(" "),t("small",[t("a",{attrs:{href:"https://renaudrohlinger.com"}},[this._v("â€» Site by Renaud ROHLINGER")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"phonectnr"},[t("picture",[t("source",{attrs:{srcset:"img/screenshot1p.webp",type:"image/webp"}}),this._v(" "),t("img",{staticClass:"srcsht1",attrs:{src:"img/screenshot1p.png",alt:"vuybe app"}})]),this._v(" "),t("picture",[t("source",{attrs:{srcset:"img/screenshot2p.webp",type:"image/webp"}}),this._v(" "),t("img",{staticClass:"srcsht2",attrs:{src:"img/screenshot2p.png",alt:"vuybe app"}})]),this._v(" "),t("picture",[t("source",{attrs:{srcset:"img/screenshot3p.webp",type:"image/webp"}}),this._v(" "),t("img",{staticClass:"srcsht3",attrs:{src:"img/screenshot3p.png",alt:"vuybe app"}})])])}],!1,null,null,null).exports),R=(n(76),n(77),n(46),n(163),n(168),n(169),n(178),n(179),n(180),n(117),n(194),n(23),n(45),n(170),function(){function e(e){this.manager=void 0!==e?e:l.j,this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,object){e[t]=object},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,n,r){var o,c=this;o=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:l.N.extractUrlBase(e),c.manager.itemStart(e);var d=function(t){r?r(t):console.error(t),c.manager.itemError(e),c.manager.itemEnd(e)},h=new l.p(c.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.load(e,(function(data){try{c.parse(data,o,(function(n){t(n),c.manager.itemEnd(e)}),d)}catch(e){d(e)}}),n,d)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(data,path,e,t){var content,o={};if("string"==typeof data)content=data;else if(l.N.decodeText(new Uint8Array(data,0,4))===h){try{o[n.KHR_BINARY_GLTF]=new v(data)}catch(e){return void(t&&t(e))}content=o[n.KHR_BINARY_GLTF].content}else content=l.N.decodeText(new Uint8Array(data));var f=JSON.parse(content);if(void 0===f.asset||f.asset.version[0]<2)t&&t(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(f.extensionsUsed)for(var i=0;i<f.extensionsUsed.length;++i){var m=f.extensionsUsed[i],S=f.extensionsRequired||[];switch(m){case n.KHR_LIGHTS_PUNCTUAL:o[m]=new c(f);break;case n.KHR_MATERIALS_UNLIT:o[m]=new d(f);break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[m]=new x(f);break;case n.KHR_DRACO_MESH_COMPRESSION:o[m]=new y(f,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:o[n.MSFT_TEXTURE_DDS]=new r;break;case n.KHR_TEXTURE_TRANSFORM:o[n.KHR_TEXTURE_TRANSFORM]=new w(f);break;default:S.indexOf(m)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}new Y(f,o,{path:path||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(e,t)}}};var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(){}function c(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function d(){this.name=n.KHR_MATERIALS_UNLIT}c.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new l.i(16777215);void 0!==n.color&&r.fromArray(n.color);var o=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new l.k(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new l.nb(r)).distance=o;break;case"spot":(t=new l.Bb(r)).distance=o,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},d.prototype.getMaterialType=function(){return l.T},d.prototype.extendParams=function(e,t,n){var r=[];e.color=new l.i(1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var c=o.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(r)};var h="glTF",f=1313821514,m=5130562;function v(data){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(data,0,12);if(this.header={magic:l.N.decodeText(new Uint8Array(data.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==h)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var t=new DataView(data,12),r=0;r<t.byteLength;){var o=t.getUint32(r,!0);r+=4;var c=t.getUint32(r,!0);if(r+=4,c===f){var d=new Uint8Array(data,12+r,o);this.content=l.N.decodeText(d)}else if(c===m){var v=12+r;this.body=data.slice(v,v+o)}r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function y(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function w(){this.name=n.KHR_TEXTURE_TRANSFORM}function x(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return l.yb},extendParams:function(e,t,n){var r=t.extensions[this.name],o=l.xb.standard,c=l.Ob.clone(o.uniforms),d=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),h=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),f=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),m=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),v=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),y=o.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",d).replace("#include <metalnessmap_pars_fragment>",h).replace("#include <roughnessmap_fragment>",f).replace("#include <metalnessmap_fragment>",m).replace("#include <lights_physical_fragment>",v);delete c.roughness,delete c.metalness,delete c.roughnessMap,delete c.metalnessMap,c.specular={value:(new l.i).setHex(1118481)},c.glossiness={value:.5},c.specularMap={value:null},c.glossinessMap={value:null},e.vertexShader=o.vertexShader,e.fragmentShader=y,e.uniforms=c,e.defines={STANDARD:""},e.color=new l.i(1,1,1),e.opacity=1;var w=[];if(Array.isArray(r.diffuseFactor)){var x=r.diffuseFactor;e.color.fromArray(x),e.opacity=x[3]}if(void 0!==r.diffuseTexture&&w.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new l.i(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new l.i(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var S=r.specularGlossinessTexture;w.push(n.assignTexture(e,"glossinessMap",S)),w.push(n.assignTexture(e,"specularMap",S))}return Promise.all(w)},createMaterial:function(e){var t=new l.yb({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(source){var e=source.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var t=this.specularGlossinessParams,i=0,n=t.length;i<n;i++){var r=source[t[i]];e[t[i]]=r&&r.isColor?r.clone():r}return e},refreshUniforms:function(e,t,n,r,o,l){if(!0===o.isGLTFSpecularGlossinessMaterial){var c,d=o.uniforms,h=o.defines;d.opacity.value=o.opacity,d.diffuse.value.copy(o.color),d.emissive.value.copy(o.emissive).multiplyScalar(o.emissiveIntensity),d.map.value=o.map,d.specularMap.value=o.specularMap,d.alphaMap.value=o.alphaMap,d.lightMap.value=o.lightMap,d.lightMapIntensity.value=o.lightMapIntensity,d.aoMap.value=o.aoMap,d.aoMapIntensity.value=o.aoMapIntensity,o.map?c=o.map:o.specularMap?c=o.specularMap:o.displacementMap?c=o.displacementMap:o.normalMap?c=o.normalMap:o.bumpMap?c=o.bumpMap:o.glossinessMap?c=o.glossinessMap:o.alphaMap?c=o.alphaMap:o.emissiveMap&&(c=o.emissiveMap),void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),d.uvTransform.value.copy(c.matrix)),o.envMap&&(d.envMap.value=o.envMap,d.envMapIntensity.value=o.envMapIntensity,d.flipEnvMap.value=o.envMap.isCubeTexture?-1:1,d.reflectivity.value=o.reflectivity,d.refractionRatio.value=o.refractionRatio,d.maxMipLevel.value=e.properties.get(o.envMap).__maxMipLevel),d.specular.value.copy(o.specular),d.glossiness.value=o.glossiness,d.glossinessMap.value=o.glossinessMap,d.emissiveMap.value=o.emissiveMap,d.bumpMap.value=o.bumpMap,d.normalMap.value=o.normalMap,d.displacementMap.value=o.displacementMap,d.displacementScale.value=o.displacementScale,d.displacementBias.value=o.displacementBias,null!==d.glossinessMap.value&&void 0===h.USE_GLOSSINESSMAP&&(h.USE_GLOSSINESSMAP="",h.USE_ROUGHNESSMAP=""),null===d.glossinessMap.value&&void 0!==h.USE_GLOSSINESSMAP&&(delete h.USE_GLOSSINESSMAP,delete h.USE_ROUGHNESSMAP)}}}}function S(e,t,n,r){l.A.call(this,e,t,n,r)}y.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,o=e.extensions[this.name].bufferView,l=e.extensions[this.name].attributes,c={},d={},h={};for(var f in l){var m=F[f]||f.toLowerCase();c[m]=l[f]}for(f in e.attributes){m=F[f]||f.toLowerCase();if(void 0!==l[f]){var v=n.accessors[e.attributes[f]],y=P[v.componentType];h[m]=y,d[m]=!0===v.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],o=d[n];void 0!==o&&(r.normalized=o)}t(e)}),c,h)}))}))},w.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},S.prototype=Object.create(l.A.prototype),S.prototype.constructor=S,S.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=e*r*3+r,i=0;i!==r;i++)t[i]=n[o+i];return t},S.prototype.beforeStart_=S.prototype.copySampleValue_,S.prototype.afterEnd_=S.prototype.copySampleValue_,S.prototype.interpolate_=function(e,t,n,r){for(var o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,d=2*c,h=3*c,td=r-t,p=(n-t)/td,f=p*p,m=f*p,v=e*h,y=v-h,w=-2*m+3*f,x=m-f,S=1-w,A=x-f+p,i=0;i!==c;i++){var _=l[y+i+c],T=l[y+i+d]*td,M=l[v+i+c],O=l[v+i]*td;o[i]=S*_+A*T+w*M+x*O}return o};var A,_=0,T=1,M=2,O=3,R=4,L=5,E=6,P=(l.Q,l.R,l.Pb,l.Qb,l.Rb,l.Gb,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),C={9728:l.X,9729:l.J,9984:l.Z,9985:l.L,9986:l.Y,9987:l.K},I={33071:l.h,33648:l.W,10497:l.ub},D=(l.d,l.r,l.ab,l.D,l.o,l.E,l.s,l.bb,l.s,l.b,l.a,l.Fb,l.vb,l.Vb,l.eb,l.Eb,l.ib,l.Cb,l.hb,l.m,l.fb,l.n,l.gb,l.Db,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),F={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},U={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},z={CUBICSPLINE:void 0,LINEAR:l.C,STEP:l.B},B="OPAQUE",N="MASK",k="BLEND",H={"image/png":l.sb,"image/jpeg":l.tb};function j(e,path){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:path+e}function $(e,object,t){for(var n in t.extensions)void 0===e[n]&&(object.userData.gltfExtensions=object.userData.gltfExtensions||{},object.userData.gltfExtensions[n]=t.extensions[n])}function G(object,e){void 0!==e.extras&&("object"===Object(o.a)(e.extras)?Object.assign(object.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function V(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var i=0,n=t.weights.length;i<n;i++)e.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(i=0,n=r.length;i<n;i++)e.morphTargetDictionary[r[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function X(e){for(var t="",n=Object.keys(e).sort(),i=0,r=n.length;i<r;i++)t+=n[i]+":"+e[n[i]]+";";return t}function W(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,r=e.array.slice(0,t*n),i=0,o=0;i<t;++i)r[o++]=e.getX(i),n>=2&&(r[o++]=e.getY(i)),n>=3&&(r[o++]=e.getZ(i)),n>=4&&(r[o++]=e.getW(i));return new l.f(r,n,e.normalized)}return e.clone()}function Y(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache={},this.textureLoader=new l.Hb(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new l.p(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function K(e,t,n){var r=t.attributes,o=[];function l(t,r){return n.getDependency("accessor",t).then((function(t){e.addAttribute(r,t)}))}for(var c in r){var d=F[c]||c.toLowerCase();d in e.attributes||o.push(l(r[c],d))}if(void 0!==t.indices&&!e.index){var h=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(h)}return G(e,t),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,o=!1,i=0,l=t.length;i<l;i++){if(void 0!==(h=t[i]).POSITION&&(r=!0),void 0!==h.NORMAL&&(o=!0),r&&o)break}if(!r&&!o)return Promise.resolve(e);var c=[],d=[];for(i=0,l=t.length;i<l;i++){var h=t[i];if(r){var f=void 0!==h.POSITION?n.getDependency("accessor",h.POSITION):e.attributes.position;c.push(f)}if(o){f=void 0!==h.NORMAL?n.getDependency("accessor",h.NORMAL):e.attributes.normal;d.push(f)}}return Promise.all([Promise.all(c),Promise.all(d)]).then((function(n){for(var l=n[0],c=n[1],i=0,d=l.length;i<d;i++)e.attributes.position!==l[i]&&(l[i]=W(l[i]));for(i=0,d=c.length;i<d;i++)e.attributes.normal!==c[i]&&(c[i]=W(c[i]));for(i=0,d=t.length;i<d;i++){var h=t[i],f="morphTarget"+i;if(r&&void 0!==h.POSITION){var m=l[i];m.name=f;for(var v=e.attributes.position,y=0,w=m.count;y<w;y++)m.setXYZ(y,m.getX(y)+v.getX(y),m.getY(y)+v.getY(y),m.getZ(y)+v.getZ(y))}if(o&&void 0!==h.NORMAL){var x=c[i];x.name=f;var S=e.attributes.normal;for(y=0,w=x.count;y<w;y++)x.setXYZ(y,x.getX(y)+S.getX(y),x.getY(y)+S.getY(y),x.getZ(y)+S.getZ(y))}}return r&&(e.morphAttributes.position=l),o&&(e.morphAttributes.normal=c),e}))}(e,t.targets,n):e}))}return Y.prototype.parse=function(e,t){var n=this,r=this.json,o=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var l={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};$(o,l,r),e(l)})).catch(t)},Y.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r={},o={},l=0,c=t.length;l<c;l++)for(var d=t[l].joints,i=0,h=d.length;i<h;i++)e[d[i]].isBone=!0;for(var f=0,m=e.length;f<m;f++){var v=e[f];void 0!==v.mesh&&(void 0===r[v.mesh]&&(r[v.mesh]=o[v.mesh]=0),r[v.mesh]++,void 0!==v.skin&&(n[v.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=o},Y.prototype.getDependency=function(e,t){var r=e+":"+t,o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(t);break;case"node":o=this.loadNode(t);break;case"mesh":o=this.loadMesh(t);break;case"accessor":o=this.loadAccessor(t);break;case"bufferView":o=this.loadBufferView(t);break;case"buffer":o=this.loadBuffer(t);break;case"material":o=this.loadMaterial(t);break;case"texture":o=this.loadTexture(t);break;case"skin":o=this.loadSkin(t);break;case"animation":o=this.loadAnimation(t);break;case"camera":o=this.loadCamera(t);break;case"light":o=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,o)}return o},Y.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,defs=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(defs.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},Y.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(e,n){r.load(j(t.uri,o.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},Y.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},Y.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(e){var o,c,d=e[0],h=D[r.type],f=P[r.componentType],m=f.BYTES_PER_ELEMENT,v=m*h,y=r.byteOffset||0,w=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,x=!0===r.normalized;if(w&&w!==v){var S="InterleavedBuffer:"+r.bufferView+":"+r.componentType,A=t.cache.get(S);A||(o=new f(d),A=new l.y(o,w/m),t.cache.add(S,A)),c=new l.z(A,h,y/m,x)}else o=null===d?new f(r.count*h):new f(d,y,r.count*h),c=new l.f(o,h,x);if(void 0!==r.sparse){var _=D.SCALAR,T=P[r.sparse.indices.componentType],M=r.sparse.indices.byteOffset||0,O=r.sparse.values.byteOffset||0,R=new T(e[1],M,r.sparse.count*_),L=new f(e[2],O,r.sparse.count*h);null!==d&&c.setArray(c.array.slice());for(var i=0,E=R.length;i<E;i++){var C=R[i];if(c.setX(C,L[i*h]),h>=2&&c.setY(C,L[i*h+1]),h>=3&&c.setZ(C,L[i*h+2]),h>=4&&c.setW(C,L[i*h+3]),h>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return c}))},Y.prototype.loadTexture=function(e){var source,t=this,r=this.json,o=this.options,c=this.textureLoader,d=window.URL||window.webkitURL,h=r.textures[e],f=h.extensions||{},m=(source=f[n.MSFT_TEXTURE_DDS]?r.images[f[n.MSFT_TEXTURE_DDS].source]:r.images[h.source]).uri,v=!1;return void 0!==source.bufferView&&(m=t.getDependency("bufferView",source.bufferView).then((function(e){v=!0;var t=new Blob([e],{type:source.mimeType});return m=d.createObjectURL(t)}))),Promise.resolve(m).then((function(e){var r=l.M.Handlers.get(e);return r||(r=f[n.MSFT_TEXTURE_DDS]?t.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:c),new Promise((function(t,n){r.load(j(e,o.path),t,void 0,n)}))})).then((function(e){!0===v&&d.revokeObjectURL(m),e.flipY=!1,void 0!==h.name&&(e.name=h.name),source.mimeType in H&&(e.format=H[source.mimeType]);var t=(r.samplers||{})[h.sampler]||{};return e.magFilter=C[t.magFilter]||l.J,e.minFilter=C[t.minFilter]||l.K,e.wrapS=I[t.wrapS]||l.ub,e.wrapT=I[t.wrapT]||l.ub,e}))},Y.prototype.assignTexture=function(e,t,r){var o=this;return this.getDependency("texture",r.index).then((function(c){if(!c.isCompressedTexture)switch(t){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":c.format=l.tb}if(o.extensions[n.KHR_TEXTURE_TRANSFORM]){var d=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;d&&(c=o.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(c,d))}e[t]=c}))},Y.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,o=this.extensions,c=void 0!==t.attributes.tangent,d=void 0!==t.attributes.color,h=void 0===t.attributes.normal,f=!0===e.isSkinnedMesh,m=Object.keys(t.morphAttributes).length>0,v=m&&void 0!==t.morphAttributes.normal;if(e.isPoints){var y="PointsMaterial:"+r.uuid,w=this.cache.get(y);w||(w=new l.pb,l.O.prototype.copy.call(w,r),w.color.copy(r.color),w.map=r.map,w.lights=!1,this.cache.add(y,w)),r=w}else if(e.isLine){y="LineBasicMaterial:"+r.uuid;var x=this.cache.get(y);x||(x=new l.G,l.O.prototype.copy.call(x,r),x.color.copy(r.color),x.lights=!1,this.cache.add(y,x)),r=x}if(c||d||h||f||m){y="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(y+="specular-glossiness:"),f&&(y+="skinning:"),c&&(y+="vertex-tangents:"),d&&(y+="vertex-colors:"),h&&(y+="flat-shading:"),m&&(y+="morph-targets:"),v&&(y+="morph-normals:");var S=this.cache.get(y);S||(S=r.isGLTFSpecularGlossinessMaterial?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(r):r.clone(),f&&(S.skinning=!0),c&&(S.vertexTangents=!0),d&&(S.vertexColors=l.Tb),h&&(S.flatShading=!0),m&&(S.morphTargets=!0),v&&(S.morphNormals=!0),this.cache.add(y,S)),r=S}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),t.addAttribute("uv2",new l.f(t.attributes.uv.array,2))),r.isGLTFSpecularGlossinessMaterial&&(e.onBeforeRender=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),e.material=r},Y.prototype.loadMaterial=function(e){var t,r=this.json,o=this.extensions,c=r.materials[e],d={},h=c.extensions||{},f=[];if(h[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var m=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=m.getMaterialType(),f.push(m.extendParams(d,c,this))}else if(h[n.KHR_MATERIALS_UNLIT]){var v=o[n.KHR_MATERIALS_UNLIT];t=v.getMaterialType(),f.push(v.extendParams(d,c,this))}else{t=l.V;var y=c.pbrMetallicRoughness||{};if(d.color=new l.i(1,1,1),d.opacity=1,Array.isArray(y.baseColorFactor)){var w=y.baseColorFactor;d.color.fromArray(w),d.opacity=w[3]}void 0!==y.baseColorTexture&&f.push(this.assignTexture(d,"map",y.baseColorTexture)),d.metalness=void 0!==y.metallicFactor?y.metallicFactor:1,d.roughness=void 0!==y.roughnessFactor?y.roughnessFactor:1,void 0!==y.metallicRoughnessTexture&&(f.push(this.assignTexture(d,"metalnessMap",y.metallicRoughnessTexture)),f.push(this.assignTexture(d,"roughnessMap",y.metallicRoughnessTexture)))}!0===c.doubleSided&&(d.side=l.l);var x=c.alphaMode||B;return x===k?d.transparent=!0:(d.transparent=!1,x===N&&(d.alphaTest=void 0!==c.alphaCutoff?c.alphaCutoff:.5)),void 0!==c.normalTexture&&t!==l.T&&(f.push(this.assignTexture(d,"normalMap",c.normalTexture)),d.normalScale=new l.Pb(1,1),void 0!==c.normalTexture.scale&&d.normalScale.set(c.normalTexture.scale,c.normalTexture.scale)),void 0!==c.occlusionTexture&&t!==l.T&&(f.push(this.assignTexture(d,"aoMap",c.occlusionTexture)),void 0!==c.occlusionTexture.strength&&(d.aoMapIntensity=c.occlusionTexture.strength)),void 0!==c.emissiveFactor&&t!==l.T&&(d.emissive=(new l.i).fromArray(c.emissiveFactor)),void 0!==c.emissiveTexture&&t!==l.T&&f.push(this.assignTexture(d,"emissiveMap",c.emissiveTexture)),Promise.all(f).then((function(){var e;return e=t===l.yb?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(d):new t(d),void 0!==c.name&&(e.name=c.name),e.map&&(e.map.encoding=l.Wb),e.emissiveMap&&(e.emissiveMap.encoding=l.Wb),e.specularMap&&(e.specularMap.encoding=l.Wb),G(e,c),c.extensions&&$(o,e,c),e}))},Y.prototype.loadGeometries=function(e){var t=this,r=this.extensions,o=this.primitiveCache;function c(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return K(n,e,t)}))}for(var d,h,f=[],i=0,m=e.length;i<m;i++){var v,y=e[i],w=(h=void 0,(h=(d=y).extensions&&d.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+h.bufferView+":"+h.indices+":"+X(h.attributes):d.indices+":"+X(d.attributes)+":"+d.mode),x=o[w];if(x)f.push(x.promise);else v=y.extensions&&y.extensions[n.KHR_DRACO_MESH_COMPRESSION]?c(y):K(new l.g,y,t),o[w]={primitive:y,promise:v},f.push(v)}return Promise.all(f)},Y.prototype.loadMesh=function(e){for(var t=this,n=this.json,r=(this.extensions,n.meshes[e]),o=r.primitives,c=[],i=0,d=o.length;i<d;i++){var h=void 0===o[i].material?A=A||new l.V({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:l.r}):this.getDependency("material",o[i].material);c.push(h)}return Promise.all(c).then((function(n){return t.loadGeometries(o).then((function(c){for(var d=[],i=0,h=c.length;i<h;i++){var f,m=c[i],v=o[i],y=n[i];if(v.mode===R||v.mode===L||v.mode===E||void 0===v.mode)!0===(f=!0===r.isSkinnedMesh?new l.Ab(m,y):new l.S(m,y)).isSkinnedMesh&&f.normalizeSkinWeights(),v.mode===L?f.drawMode=l.Jb:v.mode===E&&(f.drawMode=l.Ib);else if(v.mode===T)f=new l.I(m,y);else if(v.mode===O)f=new l.F(m,y);else if(v.mode===M)f=new l.H(m,y);else{if(v.mode!==_)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);f=new l.ob(m,y)}Object.keys(f.geometry.morphAttributes).length>0&&V(f,r),f.name=r.name||"mesh_"+e,c.length>1&&(f.name+="_"+i),G(f,r),t.assignFinalMaterial(f),d.push(f)}if(1===d.length)return d[0];var w=new l.t;for(i=0,h=d.length;i<h;i++)w.add(d[i]);return w}))}))},Y.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new l.kb(l.P.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new l.jb(r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(t.name=n.name),G(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},Y.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},Y.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],o=[],c=[],d=[],i=0,h=t.channels.length;i<h;i++){var f=t.channels[i],m=t.samplers[f.sampler],v=f.target,y=void 0!==v.node?v.node:v.id,input=void 0!==t.parameters?t.parameters[m.input]:m.input,output=void 0!==t.parameters?t.parameters[m.output]:m.output;n.push(this.getDependency("node",y)),r.push(this.getDependency("accessor",input)),o.push(this.getDependency("accessor",output)),c.push(m),d.push(v)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(c),Promise.all(d)]).then((function(n){for(var r=n[0],o=n[1],c=n[2],d=n[3],h=n[4],f=[],i=0,m=r.length;i<m;i++){var v=r[i],y=o[i],w=c[i],x=d[i],A=h[i];if(void 0!==v){var _;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,U[A.path]){case U.weights:_=l.cb;break;case U.rotation:_=l.rb;break;case U.position:case U.scale:default:_=l.Sb}var T=v.name?v.name:v.uuid,M=void 0!==x.interpolation?z[x.interpolation]:l.C,O=[];U[A.path]===U.weights?v.traverse((function(object){!0===object.isMesh&&object.morphTargetInfluences&&O.push(object.name?object.name:object.uuid)})):O.push(T);for(var R=0,L=O.length;R<L;R++){var track=new _(O[R]+"."+U[A.path],y.array,w.array,M);"CUBICSPLINE"===x.interpolation&&(track.createInterpolant=function(e){return new S(this.times,this.values,this.getValueSize()/3,e)},track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),f.push(track)}}}var E=void 0!==t.name?t.name:"animation_"+e;return new l.c(E,void 0,f)}))},Y.prototype.loadNode=function(e){var t=this.json,r=this.extensions,o=this,c=t.meshReferences,d=t.meshUses,h=t.nodes[e];return(!0===h.isBone?Promise.resolve(new l.e):void 0!==h.mesh?o.getDependency("mesh",h.mesh).then((function(e){var t;if(c[h.mesh]>1){var n=d[h.mesh]++;(t=e.clone()).name+="_instance_"+n,t.onBeforeRender=e.onBeforeRender;for(var i=0,r=t.children.length;i<r;i++)t.children[i].name+="_instance_"+n,t.children[i].onBeforeRender=e.children[i].onBeforeRender}else t=e;return void 0!==h.weights&&t.traverse((function(e){if(e.isMesh)for(var i=0,t=h.weights.length;i<t;i++)e.morphTargetInfluences[i]=h.weights[i]})),t})):void 0!==h.camera?o.getDependency("camera",h.camera):h.extensions&&h.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==h.extensions[n.KHR_LIGHTS_PUNCTUAL].light?o.getDependency("light",h.extensions[n.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new l.db)).then((function(e){if(void 0!==h.name&&(e.userData.name=h.name,e.name=l.qb.sanitizeNodeName(h.name)),G(e,h),h.extensions&&$(r,e,h),void 0!==h.matrix){var t=new l.R;t.fromArray(h.matrix),e.applyMatrix(t)}else void 0!==h.translation&&e.position.fromArray(h.translation),void 0!==h.rotation&&e.quaternion.fromArray(h.rotation),void 0!==h.scale&&e.scale.fromArray(h.scale);return e}))},Y.prototype.loadScene=function(){function e(t,n,r,o){var c=r.nodes[t];return o.getDependency("node",t).then((function(e){return void 0===c.skin?e:o.getDependency("skin",c.skin).then((function(e){for(var n=[],i=0,r=(t=e).joints.length;i<r;i++)n.push(o.getDependency("node",t.joints[i]));return Promise.all(n)})).then((function(n){for(var r=!0===e.isGroup?e.children:[e],i=0,o=r.length;i<o;i++){for(var c=r[i],d=[],h=[],f=0,m=n.length;f<m;f++){var v=n[f];if(v){d.push(v);var y=new l.R;void 0!==t.inverseBindMatrices&&y.fromArray(t.inverseBindMatrices.array,16*f),h.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[f])}c.bind(new l.zb(d,h),c.matrixWorld)}return e}));var t})).then((function(t){n.add(t);var l=[];if(c.children)for(var d=c.children,i=0,h=d.length;i<h;i++){var f=d[i];l.push(e(f,t,r,o))}return Promise.all(l)}))}return function(t){var n=this.json,r=this.extensions,o=this.json.scenes[t],c=new l.wb;void 0!==o.name&&(c.name=o.name),G(c,o),o.extensions&&$(r,c,o);for(var d=o.nodes||[],h=[],i=0,f=d.length;i<f;i++)h.push(e(d[i],c,n,this));return Promise.all(h).then((function(){return c}))}}(),e}());n(195);function L(e){this.timeLoaded=0,this.manager=e||l.j,this.materials=null,this.verbosity=0,this.attributeOptions={},this.drawMode=l.Kb,this.nativeAttributeMap={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"}}L.prototype={constructor:L,load:function(e,t,n,r){var o=this,c=new l.p(o.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.load(e,(function(e){o.decodeDracoFile(e,t)}),n,r)},setPath:function(e){return this.path=e,this},setVerbosity:function(e){return this.verbosity=e,this},setDrawMode:function(e){return this.drawMode=e,this},setSkipDequantization:function(e,t){var n=!0;return void 0!==t&&(n=t),this.getAttributeOptions(e).skipDequantization=n,this},decodeDracoFile:function(e,t,n,r){var o=this;L.getDecoderModule().then((function(l){o.decodeDracoFileInternal(e,l.decoder,t,n,r)}))},decodeDracoFileInternal:function(e,t,n,r,o){var l=new t.DecoderBuffer;l.Init(new Int8Array(e),e.byteLength);var c=new t.Decoder,d=c.GetEncodedGeometryType(l);if(d==t.TRIANGULAR_MESH)this.verbosity>0&&console.log("Loaded a mesh.");else{if(d!=t.POINT_CLOUD){var h="DRACOLoader: Unknown geometry type.";throw console.error(h),new Error(h)}this.verbosity>0&&console.log("Loaded a point cloud.")}n(this.convertDracoGeometryTo3JS(t,c,d,l,r,o))},addAttributeToGeometry:function(e,t,n,r,o,c,d,h){if(0===c.ptr){var f="DRACOLoader: No attribute "+r;throw console.error(f),new Error(f)}var m,v,y=c.num_components(),w=n.num_points()*y;switch(o){case Float32Array:m=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,c,m),h[r]=new Float32Array(w),v=l.q;break;case Int8Array:m=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,c,m),h[r]=new Int8Array(w),v=l.x;break;case Int16Array:m=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,c,m),h[r]=new Int16Array(w),v=l.v;break;case Int32Array:m=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,c,m),h[r]=new Int32Array(w),v=l.w;break;case Uint8Array:m=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,c,m),h[r]=new Uint8Array(w),v=l.Nb;break;case Uint16Array:m=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,c,m),h[r]=new Uint16Array(w),v=l.Lb;break;case Uint32Array:m=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,c,m),h[r]=new Uint32Array(w),v=l.Mb;break;default:f="DRACOLoader: Unexpected attribute type.";throw console.error(f),new Error(f)}for(var i=0;i<w;i++)h[r][i]=m.GetValue(i);d.addAttribute(r,new v(h[r],y)),e.destroy(m)},convertDracoGeometryTo3JS:function(e,t,n,r,o,c){var d,h;!0===this.getAttributeOptions("position").skipDequantization&&t.SkipAttributeTransform(e.POSITION);var f=performance.now();if(n===e.TRIANGULAR_MESH?(d=new e.Mesh,h=t.DecodeBufferToMesh(r,d)):(d=new e.PointCloud,h=t.DecodeBufferToPointCloud(r,d)),!h.ok()||0==d.ptr){var m="DRACOLoader: Decoding failed: ";throw m+=h.error_msg(),console.error(m),e.destroy(t),e.destroy(d),new Error(m)}var v,y=performance.now();e.destroy(r),n==e.TRIANGULAR_MESH?(v=d.num_faces(),this.verbosity>0&&console.log("Number of faces loaded: "+v.toString())):v=0;var w=d.num_points(),x=d.num_attributes();this.verbosity>0&&(console.log("Number of points loaded: "+w.toString()),console.log("Number of attributes loaded: "+x.toString()));var S=t.GetAttributeId(d,e.POSITION);if(-1==S){m="DRACOLoader: No position attribute found.";throw console.error(m),e.destroy(t),e.destroy(d),new Error(m)}var A=t.GetAttribute(d,S),_={},T=new l.g;if(o)for(var M in o){var O=c[M],R=o[M],L=t.GetAttributeByUniqueId(d,R);this.addAttributeToGeometry(e,t,d,M,O,L,T,_)}else for(var M in this.nativeAttributeMap){var E=t.GetAttributeId(d,e[this.nativeAttributeMap[M]]);if(-1!==E){this.verbosity>0&&console.log("Loaded "+M+" attribute.");L=t.GetAttribute(d,E);this.addAttributeToGeometry(e,t,d,M,Float32Array,L,T,_)}}if(n==e.TRIANGULAR_MESH)if(this.drawMode===l.Jb){var P=new e.DracoInt32Array;t.GetTriangleStripsFromMesh(d,P);_.indices=new Uint32Array(P.size());for(var i=0;i<P.size();++i)_.indices[i]=P.GetValue(i);e.destroy(P)}else{var C=3*v;_.indices=new Uint32Array(C);var I=new e.DracoInt32Array;for(i=0;i<v;++i){t.GetFaceFromMesh(d,i,I);var D=3*i;_.indices[D]=I.GetValue(0),_.indices[D+1]=I.GetValue(1),_.indices[D+2]=I.GetValue(2)}e.destroy(I)}T.drawMode=this.drawMode,n==e.TRIANGULAR_MESH&&T.setIndex(new(_.indices.length>65535?l.Mb:l.Lb)(_.indices,1));var F=new e.AttributeQuantizationTransform;if(F.InitFromAttribute(A)){T.attributes.position.isQuantized=!0,T.attributes.position.maxRange=F.range(),T.attributes.position.numQuantizationBits=F.quantization_bits(),T.attributes.position.minValues=new Float32Array(3);for(i=0;i<3;++i)T.attributes.position.minValues[i]=F.min_value(i)}return e.destroy(F),e.destroy(t),e.destroy(d),this.decode_time=y-f,this.import_time=performance.now()-y,this.verbosity>0&&(console.log("Decode time: "+this.decode_time),console.log("Import time: "+this.import_time)),T},isVersionSupported:function(e,t){L.getDecoderModule().then((function(n){t(n.decoder.isVersionSupported(e))}))},getAttributeOptions:function(e){return void 0===this.attributeOptions[e]&&(this.attributeOptions[e]={}),this.attributeOptions[e]}},L.decoderPath="./",L.decoderConfig={},L.decoderModulePromise=null,L.setDecoderPath=function(path){L.decoderPath=path},L.setDecoderConfig=function(e){var t=L.decoderConfig.wasmBinary;L.decoderConfig=e||{},L.releaseDecoderModule(),t&&(L.decoderConfig.wasmBinary=t)},L.releaseDecoderModule=function(){L.decoderModulePromise=null},L.getDecoderModule=function(){var e=this,path=L.decoderPath,t=L.decoderConfig,n=L.decoderModulePromise;return n||("undefined"!=typeof DracoDecoderModule?n=Promise.resolve():"object"!==("undefined"==typeof WebAssembly?"undefined":Object(o.a)(WebAssembly))||"js"===t.type?n=L._loadScript(path+"draco_decoder.js"):(t.wasmBinaryFile=path+"draco_decoder.wasm",n=L._loadScript(path+"draco_wasm_wrapper.js").then((function(){return L._loadArrayBuffer(t.wasmBinaryFile)})).then((function(e){t.wasmBinary=e}))),n=n.then((function(){return new Promise((function(n){t.onModuleLoaded=function(t){e.timeLoaded=performance.now(),n({decoder:t})},DracoDecoderModule(t)}))})),L.decoderModulePromise=n,n)},L._loadScript=function(e){var t=document.getElementById("decoder_script");null!==t&&t.parentNode.removeChild(t);var head=document.getElementsByTagName("head")[0],script=document.createElement("script");return script.id="decoder_script",script.type="text/javascript",script.src=e,new Promise((function(e){script.onload=e,head.appendChild(script)}))},L._loadArrayBuffer=function(e){var t=new l.p;return t.setResponseType("arraybuffer"),new Promise((function(n,r){t.load(e,n,void 0,r)}))};var E=n(174);function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(P()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(){var e;Object(c.a)(this,r),e=n.call(this);var t=new l.u(16777215,16777171,.5);t.position.set(-4.3,2,-7.5),t.name="dirlight",e.add(t);var o=new l.k(16777215,1);return o.position.set(-4.3,2,-7.5),o.position.set(700,700,500),o.castShadow=!0,o.shadow.mapSize.width=1024,o.shadow.mapSize.height=1024,o.shadow.camera.left=-2e3,o.shadow.camera.right=2e3,o.shadow.camera.top=2e3,o.shadow.camera.bottom=-2e3,o.shadow.camera.near=.5,o.shadow.camera.far=2e3,e.add(o),new l.k(16777215,1).position.set(-2.25,10.55,-5.25),e}return r}(l.t),I={phongImageDiffuse:{uniforms:{edge:{type:"i",value:!1},uDirLightPos:{type:"v3",value:new l.Qb},uDirLightPosOffset:{type:"v3",value:new l.Qb},uDirLightColor:{type:"c",value:new l.i(16777215)},uSplitColor:{type:"c",value:new l.i(13421772)},uMaterialColor:{type:"c",value:new l.i(16777215)},edgeColor:{type:"v4",value:new l.Rb(0,0,0,1)},edgeWidthRatio:{type:"f",value:.01},uKd:{type:"f",value:.9},texture:{type:"t",value:null},baseT:{type:"t",value:null},alpha:{type:"f",value:1},uBorder:{type:"f",value:.8},fraction:{type:"f",value:.2},repeatNb:{type:"f",value:50},intensity:{type:"f",value:.7},dispFactor:{type:"f",value:0},angle:{type:"f",value:Math.PI/4},disp:{type:"t",value:null}},vertexShader:"\nuniform float edgeWidthRatio;\nuniform float alpha;\nuniform bool edge;\nvarying vec3 vNormal;\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    vec3 pos = (vec4(position, 1.0)).xyz;\n    if(edge && alpha != 0.0) {\n        pos += normal * edgeWidthRatio;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    } else {\n        vNormal = normalize( normalMatrix * normal );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);\n    }\n    \n}\n",fragmentShader:"\n\nuniform vec3 uMaterialColor;\n\nuniform vec3 uDirLightPos;\nuniform vec3 uDirLightPosOffset;\nuniform vec3 uDirLightColor;\nuniform vec3 uSplitColor;\nuniform bool edge;\nuniform vec4 edgeColor;\nuniform float uKd;\nuniform float alpha;\nuniform float uBorder;\nuniform float fraction;\nuniform float repeatNb;\nuniform sampler2D texture;\nuniform sampler2D baseT;\nvarying vec3 vNormal;\nvarying vec2 vUv;\n\nuniform float dispFactor;\nuniform sampler2D disp;\nuniform float angle;\nuniform float intensity;\nmat2 rot(float angle) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat2(c, -s, s, c);\n}\n\n\nvoid main() {\n    if(edge && alpha != 0.0) {\n        gl_FragColor = edgeColor;\n    }else if (alpha != 0.0) {\n        // compute direction to light\n        vec3 uDirlOffset = vec3(uDirLightPos.x + uDirLightPosOffset.x, uDirLightPos.y + uDirLightPosOffset.y, uDirLightPos.z + uDirLightPosOffset.z);\n        vec4 lDirection = viewMatrix * vec4( uDirlOffset, 0.0 );\n        vec3 lVector = normalize( lDirection.xyz );\n\n        // diffuse: N * L. Normal must be normalized, since it's interpolated.\n        vec3 normal = normalize( vNormal );\n        float diffuse = dot( normal, lVector );\n        if (uKd < 0.5) {\n            diffuse = 0.6;\n        } else {\n            // if ( diffuse > 1.2 ) { diffuse = 0.84;}\n            // if ( diffuse > 0.8 ) { diffuse = 0.7;} \n            if ( diffuse < 0.75 ) { diffuse = 0.7;} \n\n            // else { diffuse = 0.4;}\n        }\n        if (dispFactor < 1.0) {\n            vec4 disp = texture2D(disp, vUv);\n            vec2 dispVec = vec2(disp.r, disp.g);\n            vec2 distortedPosition1 = vUv * repeatNb + rot(0.7854) * dispVec * 1.0 * dispFactor;\n            vec2 distortedPosition2 = vUv * repeatNb + rot(-2.3562) * dispVec * 0.7 * (1.0 - dispFactor);\n            vec4 _texture1 = texture2D(baseT, distortedPosition1);\n            vec4 _texture2 = texture2D(texture, distortedPosition2);\n            gl_FragColor = mix(_texture1, _texture2, dispFactor) * vec4( uKd * uDirLightColor * diffuse * 1.4, 1.0 );\n        } else {\n            gl_FragColor = texture2D(texture, vUv * repeatNb) * vec4( uKd * uDirLightColor * diffuse * 1.4, 1.0 );\n        }\n    }\n    gl_FragColor.a = alpha;\n}\n"}},D=function(e,img,t,n,r,o){var c=I[e],d=new C;img.needsUpdate=!0,img.wrapS=img.wrapT=l.ub,img.magFilter=img.magFilter=l.J,img.minFilter=img.minFilter=l.J,c.uniforms.texture.value=img,c.uniforms.disp.value=n,c.uniforms.baseT.value=r;var h=d.children.find((function(e){return"dirlight"===e.name})),u=l.Ob.clone(c.uniforms),f=c.vertexShader,m=c.fragmentShader,v=new l.yb({uniforms:u,vertexShader:o||f,fragmentShader:m,side:l.l});return v.uniforms.texture.value.needsUpdate=!0,v.uniforms.texture.value.wrapS=v.uniforms.texture.value.wrapT=l.ub,v.uniforms.disp.value.needsUpdate=!0,v.uniforms.disp.value.wrapS=v.uniforms.disp.value.wrapT=l.ub,v.uniforms.baseT.value.needsUpdate=!0,v.uniforms.baseT.value.wrapS=v.uniforms.baseT.value.wrapT=l.ub,v.uniforms.uDirLightPos.value=h.position,v.uniforms.uDirLightColor.value=h.color,v.uniforms.repeatNb.value=t,v.uniforms.fraction.value=.2,v.transparent=!0,v},F=(new l.Qb,new l.i(16777215),new l.i(16777215),n(196),n(197),n(198),n(199),n(202),{computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,o=n.position.array,c=n.normal.array,d=n.uv.array,h=o.length/3;void 0===n.tangent&&e.addAttribute("tangent",new l.f(new Float32Array(4*h),4));for(var f=n.tangent.array,m=[],v=[],i=0;i<h;i++)m[i]=new l.Qb,v[i]=new l.Qb;var y=new l.Qb,w=new l.Qb,x=new l.Qb,S=new l.Pb,A=new l.Pb,_=new l.Pb,T=new l.Qb,M=new l.Qb,O=e.groups;0===O.length&&(O=[{start:0,count:r.length}]);i=0;for(var R=O.length;i<R;++i)for(var L=N=(B=O[i]).start,E=N+B.count;L<E;L+=3)k(r[L+0],r[L+1],r[L+2]);var P,C,I,D=new l.Qb,F=new l.Qb,U=new l.Qb,z=new l.Qb;for(i=0,R=O.length;i<R;++i){var B,N;for(L=N=(B=O[i]).start,E=N+B.count;L<E;L+=3)H(r[L+0]),H(r[L+1]),H(r[L+2])}}else console.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function k(a,b,e){y.fromArray(o,3*a),w.fromArray(o,3*b),x.fromArray(o,3*e),S.fromArray(d,2*a),A.fromArray(d,2*b),_.fromArray(d,2*e);var t=w.x-y.x,n=x.x-y.x,r=w.y-y.y,l=x.y-y.y,c=w.z-y.z,h=x.z-y.z,f=A.x-S.x,O=_.x-S.x,R=A.y-S.y,L=_.y-S.y,E=1/(f*L-O*R);T.set((L*t-R*n)*E,(L*r-R*l)*E,(L*c-R*h)*E),M.set((f*n-O*t)*E,(f*l-O*r)*E,(f*h-O*c)*E),m[a].add(T),m[b].add(T),m[e].add(T),v[a].add(M),v[b].add(M),v[e].add(M)}function H(e){U.fromArray(c,3*e),z.copy(U),C=m[e],D.copy(C),D.sub(U.multiplyScalar(U.dot(C))).normalize(),F.crossVectors(z,C),I=F.dot(v[e]),P=I<0?-1:1,f[4*e]=D.x,f[4*e+1]=D.y,f[4*e+2]=D.z,f[4*e+3]=P}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,r=(new Set(Object.keys(e[0].attributes)),new Set(Object.keys(e[0].morphAttributes))),o={},c={},d=new l.g,h=0,i=0;i<e.length;++i){var f=e[i];if(n!==(null!==f.index))return null;for(var m in f.attributes)void 0===o[m]&&(o[m]=[]),o[m].push(f.attributes[m]);for(var m in f.morphAttributes){if(!r.has(m))return null;void 0===c[m]&&(c[m]=[]),c[m].push(f.morphAttributes[m])}if(d.userData.mergedUserData=d.userData.mergedUserData||[],d.userData.mergedUserData.push(f.userData),t){var v;if(n)v=f.index.count;else{if(void 0===f.attributes.position)return null;v=f.attributes.position.count}d.addGroup(h,v,i),h+=v}}if(n){var y=0,w=[];for(i=0;i<e.length;++i){for(var x=e[i].index,S=0;S<x.count;++S)w.push(x.getX(S)+y);y+=e[i].attributes.position.count}d.setIndex(w)}for(var m in o){var A=this.mergeBufferAttributes(o[m]);if(!A)return null;d.addAttribute(m,A)}for(var m in c){var _=c[m][0].length;if(0===_)break;d.morphAttributes=d.morphAttributes||{},d.morphAttributes[m]=[];for(i=0;i<_;++i){var T=[];for(S=0;S<c[m].length;++S)T.push(c[m][S][i]);var M=this.mergeBufferAttributes(T);if(!M)return null;d.morphAttributes[m].push(M)}}return d},mergeBufferAttributes:function(e){for(var t,n,r,o=0,i=0;i<e.length;++i){var c=e[i];if(c.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=c.array.constructor),t!==c.array.constructor)return null;if(void 0===n&&(n=c.itemSize),n!==c.itemSize)return null;if(void 0===r&&(r=c.normalized),r!==c.normalized)return null;o+=c.array.length}var d=new t(o),h=0;for(i=0;i<e.length;++i)d.set(e[i].array,h),h+=e[i].array.length;return new l.f(d,n,r)},interleaveAttributes:function(e){for(var t,n=0,r=0,i=0,o=e.length;i<o;++i){var c=e[i];if(void 0===t&&(t=c.array.constructor),t!==c.array.constructor)return console.warn("AttributeBuffers of different types cannot be interleaved"),null;n+=c.array.length,r+=c.itemSize}var d=new l.y(new t(n),r),h=0,f=[],m=["getX","getY","getZ","getW"],v=["setX","setY","setZ","setW"],y=0;for(o=e.length;y<o;y++){var w=(c=e[y]).itemSize,x=c.count,S=new l.z(d,w,h,c.normalized);f.push(S),h+=w;for(var A=0;A<x;A++)for(var _=0;_<w;_++)S[v[_]](A,c[m[_]](A))}return f},estimateBytesUsed:function(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var o=e.getIndex();return t+=o?o.count*o.itemSize*o.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},r=e.getIndex(),o=e.getAttribute("position"),c=r?r.count:o.count,d=0,h=Object.keys(e.attributes),f={},m={},v=[],y=["getX","getY","getZ","getW"],i=0,w=h.length;i<w;i++){f[M=h[i]]=[],(E=e.morphAttributes[M])&&(m[M]=new Array(E.length).fill().map((function(){return[]})))}var x=Math.log10(1/t),S=Math.pow(10,x);for(i=0;i<c;i++){var A=r?r.getX(i):i,_="",T=0;for(w=h.length;T<w;T++)for(var M=h[T],O=(L=e.getAttribute(M)).itemSize,R=0;R<O;R++)_+="".concat(~~(L[y[R]](A)*S),",");if(_ in n)v.push(n[_]);else{for(T=0,w=h.length;T<w;T++){M=h[T];var L=e.getAttribute(M),E=e.morphAttributes[M],P=(O=L.itemSize,f[M]),C=m[M];for(R=0;R<O;R++){var I=y[R];if(P.push(L[I](A)),E)for(var D=0,F=E.length;D<F;D++)C[D].push(E[D][I](A))}}n[_]=d,v.push(d),d++}}var U=e.clone();for(i=0,w=h.length;i<w;i++){M=h[i];var z=e.getAttribute(M),B=new z.array.constructor(f[M]);if(z.isInterleavedBufferAttribute?L=new l.f(B,z.itemSize,z.itemSize):(L=e.getAttribute(M).clone()).setArray(B),U.addAttribute(M,L),M in m)for(T=0;T<m[M].length;T++){var N=e.morphAttributes[M][T].clone();N.setArray(new N.array.constructor(m[M][T])),U.morphAttributes[M][T]=N}}var k=Uint8Array;v.length>=Math.pow(2,8)&&(k=Uint16Array),v.length>=Math.pow(2,16)&&(k=Uint32Array);var H=new k(v);v=null;return null===r?v=new l.f(H,1):(v=e.getIndex().clone()).setArray(H),U.setIndex(v),U}}),U={phongDiffuse:{uniforms:{edge:{type:"i",value:!1},uDirLightPos:{type:"v3",value:new l.Qb},uDirLightColor:{type:"c",value:new l.i(16777215)},uMaterialColor:{type:"c",value:new l.i(16777215)},edgeColor:{type:"v4",value:new l.Rb(0,0,0,1)},edgeWidthRatio:{type:"f",value:.01},uKd:{type:"f",value:.9},alpha:{type:"f",value:1},uBorder:{type:"f",value:.8}},vertexShader:["uniform float edgeWidthRatio;","uniform float alpha;","uniform bool edge;","varying vec3 vNormal;","void main() {","vec3 pos = (vec4(position, 1.0)).xyz;","if(edge && alpha != 0.0){","pos += normal * edgeWidthRatio;","gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);","}else if (alpha != 0.0){","vNormal = normalize( normalMatrix * normal );","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);","}","}"].join("\n"),fragmentShader:["uniform vec3 uMaterialColor;","uniform vec3 uDirLightPos;","uniform vec3 uDirLightColor;","uniform bool edge;","uniform vec4 edgeColor;","uniform float uKd;","uniform float alpha;","uniform float uBorder;","varying vec3 vNormal;","void main() {","if(edge && alpha != 0.0){","gl_FragColor = edgeColor;","}else if (alpha != 0.0){","vec4 lDirection = viewMatrix * vec4( uDirLightPos, 0.0 );","vec3 lVector = normalize( lDirection.xyz );","vec3 normal = normalize( vNormal );","float diffuse = dot( normal, lVector );","if ( diffuse > 0.4 ) { diffuse = diffuse; }","else { diffuse = 0.4; }","gl_FragColor = vec4( uKd * uMaterialColor * uDirLightColor * diffuse * 1.5, 1.0 );","}","gl_FragColor.a = alpha;","}"].join("\n")}},z=function(e){var t=U[e],n=(new C).children.find((function(e){return"dirlight"===e.name})),u=l.Ob.clone(t.uniforms),r=t.vertexShader,o=t.fragmentShader,c=new l.yb({uniforms:u,vertexShader:r,fragmentShader:o});return c.uniforms.uDirLightPos.value=n.position,c.uniforms.uDirLightColor.value=n.color,c.transparent=!0,c},B=function(e,t,n){var r=[];e.forEach((function(e){e.children?e.children.forEach((function(e){e.geometry&&r.push(e.geometry),e.children.length>0&&e.children.forEach((function(e){e.geometry&&r.push(e.geometry)}))})):e&&r.push(e)}));var c=F.mergeBufferGeometries(r),d=z("phongDiffuse");d.uniforms.uMaterialColor.value.copy(new l.i(1118481)),d.uniforms.edge.value=!0,d.uniforms.edgeWidthRatio.value=t,void 0!==Object(o.a)(n)&&(d.uniforms.alpha.value=n),d.side=l.d;var h=new l.S(c,d);return h.matrixAutoUpdate=!1,h.name="toon",h};function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var k=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(N()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(e,t,o,d,h,f){var m;Object(c.a)(this,r),(m=n.call(this)).matrixAutoUpdate=!1,m.name="Planet";var v=e.scene.children.filter((function(e){return e.name.includes("Planet")})),y=[];v[0].material.metalness=0;var w=Object(E.a)(m),i=0;v.forEach((function(e){e.material;i++;var n=D("phongImageDiffuse",i<2?o:t,i<2?250:50,h,f);n.uniforms.alpha.value=0,y.push(e.geometry);var r=new l.S(e.geometry,n);r.matrixAutoUpdate=!1,w.add(r)}));var x=B(y,.05,1);return x.material.uniforms.alpha.value=0,m.add(x),m}return r}(l.t);function H(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var j=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(H()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(e,t,o,d,h){var f;return Object(c.a)(this,r),(f=n.call(this)).matrixAutoUpdate=!1,f.name="Plane",e.scene.children.filter((function(e){return e.name.includes("Avion")})).forEach((function(e){var i=0,n=[],r=new l.t;e.children.forEach((function(e){var c=e.material,f=null;1===++i?f=D("phongImageDiffuse",t,5,d,h):3===i?f=D("phongImageDiffuse",o,2,d,h):((f=z("phongDiffuse")).uniforms.uMaterialColor.value.copy(new l.i(c.color.getHex())),f.transparent=!0),f.uniforms.alpha.value="0.0",n.push(e.geometry);var m=new l.S(e.geometry,f);m.matrixAutoUpdate=!1,r.add(m),r.matrixAutoUpdate=!1}));var c=B(n,.03,"0.0");r.add(c),r.visible=!1,f.add(r)})),f}return r}(l.t),$={starDiffuse:{uniforms:{color:{type:"c",value:new l.i(15787660)},alphaM:{type:"f",value:0}},vertexShader:["attribute float alpha;","void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_PointSize = 6.0 * alpha;","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform float alphaM;","void main() {","gl_FragColor = vec4( color, 1 );","gl_FragColor.a = alphaM;","}"].join("\n")}};function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var V=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(G()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(e,t){var o;Object(c.a)(this,r),(o=n.call(this)).matrixAutoUpdate=!1,o.name="Eiffel";var d=e.scene.children.find((function(e){return"Eiffel"===e.name})),h=(d.material,z("phongDiffuse"));h.uniforms.uMaterialColor.value.copy(new l.i(10129027)),h.uniforms.alpha.value="0.0";var f=new l.S(d.geometry,h);f.matrixAutoUpdate=!1,f.visible=!1,o.add(f);for(var m=d.geometry.attributes.position.count,v=new Float32Array(1*m),i=0;i<2e3;i++)v[i]=Math.random();d.geometry.addAttribute("alpha",new l.f(v,1));var y=function(e){var t=$[e],n=l.Ob.merge([t.uniforms]),u=l.Ob.clone(n),r=t.vertexShader,o=t.fragmentShader,c=new l.yb({uniforms:u,vertexShader:r,fragmentShader:o});return c.metalness=.5,c.side=l.r,c.transparent=!0,c.opacity=0,c.alpha=0,c}("starDiffuse"),w=new l.ob(d.geometry,y);return w.visible=!1,w.matrixAutoUpdate=!1,o.add(w),o}return r}(l.t);function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var W=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(X()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(e,t){var o;Object(c.a)(this,r),(o=n.call(this)).matrixAutoUpdate=!1,o.name="Users";var d=e.scene.children.filter((function(e){return e.name.includes("Circle")}));o.webpPng=window.webpSupport?"webp":"png";var h=[],i=0;return d.forEach((function(e){i++,(new l.Hb).load("/img/user"+i+"."+o.webpPng,(function(t){t.center.set(.5,.5);var n=new l.T({map:t});h.push(e.geometry);var r=new l.S(e.geometry,n);r.name="user"+i,r.material.transparent=!0,r.material.opacity=0,r.visible=!1,r.matrixAutoUpdate=!1,o.add(r)}))})),o}return r}(l.t);function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var K=function(e){Object(m.a)(r,e);var t,n=(t=r,function(){var e,n=Object(f.a)(t);if(Y()){var r=Object(f.a)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Object(h.a)(this,e)});function r(){var e;return Object(c.a)(this,r),(e=n.call(this)).zSpeed=.025,e}return Object(d.a)(r,[{key:"init",value:function(e,t){var n=this;return this.camera=e,this.webpPng=window.webpSupport?"webp":"png",this.webpJpg=window.webpSupport?"webp":"jpg",new Promise((function(e,r){var o=(new R).setPath("models/draco/");L.setDecoderPath("/js/"),o.setDRACOLoader(new L);var c=(new l.Hb).load("img/webgl_text_o."+n.webpPng),d=(new l.Hb).load("img/webgl_text_blk."+n.webpPng);o.load("planet.glb",(function(r){(new l.Hb).load("img/dsp_t."+n.webpJpg,(function(o){(new l.Hb).load("img/webgl_text_w."+n.webpPng,(function(h){n.planet=new k(r,h,c,t,o,d),n.plane=new j(r,h,c,o,d),n.eiffel=new V(r,o),n.users=new W(r,o),n.add(n.planet,n.users,n.plane,n.eiffel),r.scene.children.filter((function(e){return e.name.includes("Text")})).forEach((function(e){var t=z("phongDiffuse");t.uniforms.uMaterialColor.value.copy(new l.i(1184274)),t.uniforms.alpha.value="0.0";var r=new l.S(e.geometry,t);r.name=e.name,r.visible=!1,r.matrixAutoUpdate=!1,n.add(r)})),t.add(n),e()}))}))}))}))}},{key:"update",value:function(){}}]),r}(l.t),Q=n(204),J=n.n(Q),Z={components:{Dom:O,Background:T},data:function(){var e={three:{}};return e.three={scene:{},camera:{aspect:0,fov:40,position:{x:.15,y:.5,z:-100},lookAt:{x:0,y:95,z:0}},renderer:{width:0,height:0,alpha:!0,antialias:!0,shadowMap:{enabled:!1}},object:{},render:{fps:30}},{three:{$container:null,renderer:null,scene:null,camera:null,object:[]},setting:e}},mounted:function(){var e=this;new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",t.onload=t.onerror=function(){e(2===t.height)}})).then((function(e){return window.webpSupport=e})),this.storedHeight=window.innerHeight,this.storedWidth=window.innerWidth,this.responsiveTL=window.innerWidth<540?1920/window.innerWidth:1,this.setting.three.camera.position.z=-100-15*this.responsiveTL,this.postData=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&arguments[1]},this.cityScene=new K,this.init(),this.$root.$on("updateProgress",(function(filter){var t=document.querySelector(".lodr"),n={val:parseInt(t.innerHTML.replace("%",""))};Object(S.a)({targets:n,val:filter.value,duration:600,round:1,easing:"cubicBezier(.25, 1, .25, 1)",update:function(){t.innerHTML=n.val+"%"},complete:function(){100==filter.value&&(Object(S.a)({targets:".lodr",opacity:0,duration:300,easing:"easeInOutSine"}),e.anilPLoad(),e.animPL.play(),e.animLoad())}})})),this.cityScene.init(this.three.camera,this.three.scene).then((function(){window.webpSupport||(document.querySelector(".ctct").style.backgroundImage="url('/img/text_w.png')",document.querySelectorAll(".wtsubmit").forEach((function(e){e.style.backgroundImage="url('/img/webgl_text_blk.png')"})),document.querySelector(".tblbg").style.backgroundImage="url('/img/textu_w.png')"),e.$root.$emit("updateProgress",{value:14}),e.view()}))},methods:{init:function(){var e=this;window.blockScroll=!0,this.scrollY=0,this.scrollX=0,this.percentage=0,this.intensityParallax=30,this.uDirLightOffset={x:0,smoothX:0,y:0,smoothY:0},this.rotOffset={x:0,smoothX:0,y:0,smoothY:0},this.maxHDom=document.querySelector(".v"),this.isInViewport=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getBoundingClientRect(),n=t.top,r=t.height;return n<=innerHeight&&n+r>=0},this.smoothScroll=[{target:document.querySelector(".v"),threshold:.14,coef:.5,pos:!1,smoothY:0}],this.scrollInstance=new J.a({el:document.querySelector(".v"),limitInertia:!0,passive:!0,preventTouch:!0,touchMultiplier:5.5}),this.eventScroll=function(t){e.$root.$emit("scroll"),e.animToScrollY(t)},this.scrollInstance.on(this.eventScroll),this.initInviews(),document.querySelectorAll(".s").forEach((function(e){e.style.height=window.innerHeight+"px",e.style["max-height"]=window.innerHeight+"px"})),this.three.$container=document.getElementsByClassName("webgl")[0],this.setting.three.renderer.width=this.three.$container.clientWidth,this.setting.three.renderer.height=this.three.$container.clientHeight,this.three.scene=new l.wb,this.three.camera=new l.kb(this.setting.three.camera.fov,this.setting.three.camera.aspect),this.three.camera.aspect=this.setting.three.renderer.width/this.setting.three.renderer.height,this.three.camera.updateProjectionMatrix(),this.three.renderer=new l.Ub({alpha:this.setting.three.renderer.alpha,antialias:this.setting.three.renderer.antialias}),this.three.renderer.setSize(this.setting.three.renderer.width,this.setting.three.renderer.height),this.three.renderer.setPixelRatio(1.5),this.three.renderer.shadowMap.enabled=this.setting.three.renderer.shadowMap.enabled,this.three.$container.appendChild(this.three.renderer.domElement),this.maxH=this.maxHDom.clientHeight||this.maxHDom.offsetHeight,this.event_assign()},view:function(){var e=this;T.methods.start(this).then((function(){setTimeout((function(){e.$root.$emit("updateProgress",{value:100})}),200)}))},initSceneMatrix:function(){this.three.scene.children[0].rotation.set(-.6,-.7,0),this.three.scene.children[0].position.z=14,this.three.scene.children[0].rotation.x=-.6,this.three.scene.children[0].rotation.y=-1.25,this.three.camera.position.set(this.setting.three.camera.position.x,this.setting.three.camera.position.y,this.setting.three.camera.position.z),this.three.camera.lookAt(new l.Qb(this.setting.three.camera.lookAt.x,this.setting.three.camera.lookAt.y,this.setting.three.camera.lookAt.z))},animateInview:function(e,t){var n=e.parentNode.getAttribute("pg");this.nb=n,Object(S.a)({targets:this.$root.hover.progress.scale,x:(n-1)/6+1e-5,duration:1e3,easing:"linear"});Object(S.a)({targets:e,opacity:[0,1],duration:900,delay:500,translateY:[4,0],easing:"cubicBezier(.25, 1, .25, 1)"}),e.parentNode.classList.contains("tbl")&&t.parentNode.classList.contains("tbl")?(Object(S.a)({targets:".tblbg",height:[t.parentNode.offsetHeight,e.parentNode.offsetHeight],duration:400,easing:"cubicBezier(.25, 1, .25, 1)"}),e.parentNode.querySelector("h2")&&this.animateDiscover(e.parentNode.querySelector("h2"),e.parentNode.querySelector("h2"),400,300,"cubicBezier(.25, 1, .25, 1)").play()):e.parentNode.classList.contains("tbl")&&!t.parentNode.classList.contains("tbl")?(Object(S.a)({targets:".tblbg",opacity:[0,1],height:[e.parentNode.offsetHeight,e.parentNode.offsetHeight],duration:500,easing:"easeOutSine"}),e.parentNode.querySelector("h2")&&this.animateDiscover(e.parentNode.querySelector("h2"),e.parentNode.querySelector("h2"),400,300,"cubicBezier(.25, 1, .25, 1)").play()):e.parentNode.classList.contains("tbl")||Object(S.a)({targets:".tblbg",opacity:[1,0],duration:500,easing:"easeInSine"})},animToScrollY:function(e,t){var n=this;e.scrollable&&!window.blockScroll&&(0==document.querySelector(".ctct").getBoundingClientRect().y&&this.revertAnim(!0),this.animReveal&&this.animReveal.pause(),this.animScroll&&this.animScroll.pause(),window.blockScroll=!0,void 0===t?document.querySelectorAll(".rvl").forEach((function(t){n.isInViewport(t)&&(Object(S.a)({targets:".pgn",opacity:[1,0],duration:400,delay:0,translateY:[0,-4],easing:"cubicBezier(.25, 1, .25, 1)"}),n.animReveal=Object(S.a)({targets:t,opacity:0,duration:200,easing:"easeInOutSine",complete:function(){document.querySelector(".v").style.transform="translate(0,"+(n.smoothScroll[0].pos?"":"-")+-e.y/2+"px)",document.querySelectorAll(".rvl").forEach((function(e){n.isInViewport(e)&&n.animateInview(e,t)}))}}))})):(Object(S.a)({targets:this.$root.hover.progress.scale,x:1e-5,duration:t,easing:"linear"}),Object(S.a)({targets:".tblbg, .phone",opacity:0,duration:250,easing:"easeInSine"}),document.querySelectorAll(".rvl").forEach((function(e){n.isInViewport(e)&&(n.animReveal=Object(S.a)({targets:e,opacity:0,duration:250,easing:"easeInSine"}),n.animReveal=Object(S.a)({targets:e.parentNode.querySelector("h2:not(.h2lst)"),opacity:0,duration:250,easing:"easeInSine"}))}))),this.animScroll=Object(S.a)({targets:this,scrollY:-e.y,duration:t||1e3,easing:"linear",update:function(e){var t={clientX:n.eClientX,clientY:n.eClientY};n.moveMv(t)},complete:function(){if(void 0!==t)document.querySelectorAll(".rvl").forEach((function(t){n.isInViewport(t)&&(n.scrollInstance._event.y=e.y,document.querySelector(".v").style.transform="translate(0,"+e.y/2+"px)",document.querySelectorAll(".rvl").forEach((function(e){n.isInViewport(e)&&(window.blockScroll=!1,Object(S.a)({targets:e,opacity:1,duration:300,easing:"easeInOutSine",complete:function(){}}))})))}));else if(e.originalEvent&&e.originalEvent.type&&"touchmove"===e.originalEvent.type)window.blockScroll=!1;else{var r=e.originalEvent&&e.originalEvent.type&&"wheel"===e.originalEvent.type?600:150;setTimeout((function(){window.blockScroll=!1}),r)}}}))},animateDiscover:function(e,t,n,r,o){var l=S.a.timeline({autoplay:!1,delay:n,duration:r});if(e)return l.add({targets:e.querySelectorAll(".lt"),scale:[.3,1],opacity:[0,1],rotateZ:["-10deg","0"],rotateY:["-30deg","0"],translateY:["-10px","0"],translateX:["-10px","0"],translateZ:0,easing:o||"easeInOutExpo",delay:function(t,i){return n+r/e.querySelectorAll(" .lt").length*(i+1)}},20),l.add({targets:e,duration:20,opacity:[0,1]},0),l},anilPLoad:function(){this.bgUpdate=T.methods.render,this.animPL=S.a.timeline({autoplay:!1,duration:700,easing:"linear"}),this.animPL.add({targets:"#uy",opacity:1,duration:400},200),this.animPL.add({targets:"#slogo",opacity:0,easing:"linear",duration:300},600),this.animPL.add({targets:".n h1",opacity:1,easing:"linear",duration:200},450),this.animPL.add({targets:"#i",opacity:0,duration:300},400),this.animPL.add({targets:"#v",translateX:"-14.2%",duration:600},0),this.animPL.add({targets:"#be",translateX:21,duration:600},0),this.animPL.add({targets:"#i",rotate:-28.5,translateX:7,translateY:-3,duration:600},0)},animLoad:function(){var e=this;this.animL=S.a.timeline({autoplay:!1,duration:1600,easing:"linear",update:this.updateHandler,delay:0,complete:function(){window.blockScroll=!1}}),document.querySelectorAll(".s1 h1 span").forEach((function(e){e.innerHTML=e.innerHTML.replace(/([^\x00-\x80]|\w|,)/g,"<span class='lt'>$&</span>")})),document.querySelectorAll(".tbl h2").forEach((function(e){e.innerHTML=e.innerHTML.replace(/([^\x00-\x80]|\w|,)/g,"<span class='lt'>$&</span>")})),this.animL2=this.animateDiscover(document.querySelector(".s1 h1"),".s1 h1 span",300,900),this.animL.add({duration:200,targets:this.three.$container,opacity:[0,1]},0),this.animL.play(),this.animL2.play(),this.initSceneMatrix(),this.initMainTL(),this.render();var t={val:0},n={val:0};Object(S.a)({duration:300,delay:0,targets:t,val:1,easing:"easeInOutSine",update:function(n){e.three.scene.children[0].children[0].children[0].material.uniforms.alpha.value=parseFloat(t.val),e.three.scene.children[0].children[0].children[1].material.uniforms.alpha.value=parseFloat(t.val),e.three.scene.children[0].children[0].children[2].material.uniforms.alpha.value=parseFloat(t.val)}}),window.innerWidth>=540&&Object(S.a)({duration:600,delay:1400,targets:".n_b_c",translateY:[6,0],opacity:[0,1],easing:"cubicBezier(.25, 1, .25, 1)"}),Object(S.a)({duration:600,delay:0,targets:this.setting.three.camera.lookAt,y:[95,55],easing:"easeInOutSine",complete:function(){}});var r=this.three.scene.children[0].children.find((function(e){return"TextStart"==e.name}));Object(S.a)({duration:400,easing:"cubicBezier(.25, 1, .25, 1)",targets:{val:0},val:[0,1],delay:400,update:function(e){r.visible=(e.progress,!0),r.material.uniforms.alpha.value=parseFloat(e.progress/100)}}),Object(S.a)({duration:1900,delay:0,targets:n,val:[0,1],easing:"linear",update:function(){e.three.scene.children[0].children[0].children[0].material.uniforms.dispFactor.value=parseFloat(n.val),e.three.scene.children[0].children[0].children[1].material.uniforms.dispFactor.value=parseFloat(n.val)}})},prevAct:function(){var e=this;this.tlAnim.add({duration:400,easing:"easeInSine",targets:this.setting.three.camera.lookAt,y:[55,-50-4*this.responsiveTL],x:[0,3.5*this.responsiveTL-60]},0),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:".n h1",translateX:window.innerWidth<540?[window.innerWidth/2,document.querySelector(".n h1").getBoundingClientRect().width/2]:[window.innerWidth/2,42+document.querySelector(".n h1").getBoundingClientRect().width/2]},0),window.innerWidth<540&&this.tlAnim.add({duration:200,targets:".n_b_c",translateY:[6,0],opacity:[0,1],easing:"easeInOutSine"},200),this.tlAnim.add({duration:60,targets:".n h1 small",opacity:[1,0],easing:"easeInOutSine"},0);var t=this.three.scene.children[0].children.find((function(e){return"TextStart"==e.name})),n={val:0,anim:!1,progress:0};this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.$root.bg.screencanvas.position,x:[0,1.1*-window.innerWidth],update:function(n){t.visible=!(n.progress>40),t.material.uniforms.alpha.value=n.progress<40?parseFloat(1-n.progress/40):0,e.$root.bg.screencanvasO.material.uniforms.dispFactor.value=parseFloat(n.progress/100),e.$root.bg.screencanvas.geometry.verticesNeedUpdate=!0,e.$root.bg.screencanvas.lastPosX&&e.$root.bg.screencanvas.lastPosX<e.$root.bg.screencanvas.position.x?e.bendPlaneInvertGeometry(e.$root.bg.screencanvas.geometry,n.progress/300):e.bendPlaneGeometry(e.$root.bg.screencanvas.geometry,n.progress/300),e.$root.bg.screencanvas.lastPosX=e.$root.bg.screencanvas.position.x},changeBegin:function(t){e.$root.bg.screencanvas2.material.uniforms.alpha.value=parseFloat(0),e.bgReqOn=!0},changeComplete:function(t){e.bgReqOn=!1}},0),this.tlAnim.add({duration:400,easing:"cubicBezier(.25, 1, .25, 1)",targets:n,val:[0,1],changeBegin:function(t){e.$root.bg.screencanvas2.material.uniforms.alpha.value=parseFloat(1),e.bgReqOn=!0},changeComplete:function(t){e.$root.bg.screencanvasB.material.uniforms.alpha.value=parseFloat(1),e.bgReqOn=!1},complete:function(){},update:function(t){e.$root.bg.screencanvas2.material.uniforms.dispFactor.value=parseFloat(t.progress/100),n.progress<t.progress&&!n.anim?(n.anim=!0,e.$root.bg.screencanvas2.material.uniforms.alpha.value=parseFloat(0)):n.anim=100!=t.progress,n.progress>=t.progress&&0==t.progress&&(e.$root.bg.screencanvas2.material.uniforms.alpha.value=parseFloat(0)),n.progress=t.progress,0!=t.progress&&n.anim&&(e.$root.bg.screencanvas2.material.uniforms.alpha.value=parseFloat(1))}},400),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.$root.bg.screencanvasO.position,y:[0,window.innerHeight],changeBegin:function(t){e.bgReqOn=!0},changeComplete:function(t){e.bgReqOn=!1}},800),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.$root.bg.screencanvas2.position,y:[0,window.innerHeight]},800),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.$root.bg.screencanvasB.position,y:[-window.innerHeight,0],update:function(e){}},800)},firstAct:function(){var e=this;this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.setting.three.camera.lookAt,y:[-50-4*this.responsiveTL,0-4*this.responsiveTL],x:[3.5*this.responsiveTL-60,0]},800);var t=this.three.scene.children[0].children[1].children[2],n={val:0};this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:n,val:[0,1],update:function(r){e.tlAnim.progress<60&&(t.visible=!(n.val<=.1),t.material.opacity=n.val)}},800),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].position,z:-24,update:function(t){e.three.scene.children[0].children[0].children[0].material.uniforms.fraction.value=parseFloat(.15+t.progress/100*1),e.three.scene.children[0].children[0].children[1].material.uniforms.fraction.value=parseFloat(.15+t.progress/100*1)}},1200),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].rotation,z:.35,x:-.7,y:-1.65},800)},phoneAct:function(){var e=this;this.tlAnim.add({duration:200,update:function(t){e.tlAnim.progress<60&&(e.$root.hover.phone.material.uniforms.dispFactor.value=parseFloat(1-t.progress/100))}},800),this.tlAnim.add({duration:140,update:function(t){e.tlAnim.progress<60&&(e.$root.hover.phone.material.uniforms.alpha.value=parseFloat(t.progress/100))}},800),this.tlAnim.add({duration:200,targets:".srcsht1",opacity:[0,1],easing:"cubicBezier(.25, 1, .25, 1)"},1e3),this.tlAnim.add({duration:400,targets:".srcsht2",opacity:[0,1],easing:"cubicBezier(.25, 1, .25, 1)"},1200),this.tlAnim.add({duration:400,targets:".srcsht3",opacity:[0,1],easing:"cubicBezier(.25, 1, .25, 1)"},1600)},secondAct:function(){var e=this,t=this.three.scene.children[0].children[1].children[1],n=this.three.scene.children[0].children[1].children[0],r=this.three.scene.children[0].children.find((function(e){return"Text"==e.name})),o=this.three.scene.children[0].children.find((function(e){return"Text3"===e.name})),l={value:0},c={value:0};this.tlAnim.add({duration:160,easing:"linear",targets:l,value:[0,1],update:function(o){r.visible=!(l.value<=.1),t.visible=!(l.value<=.1),n.visible=!(l.value<=.1),t.material.opacity=l.value,n.material.opacity=l.value,e.tlAnim.progress>60&&(e.three.scene.children[0].children[1].children[2].visible=!(l.value<=.1),e.three.scene.children[0].children[1].children[2].material.opacity=1-l.value),r.material.uniforms.alpha.value=parseFloat(l.value)}},1440),this.tlAnim.add({duration:400,easing:"linear",targets:c,value:[0,1],update:function(e){o.visible=0!=c.value,o.material.uniforms.alpha.value=parseFloat(c.value)}},1600),this.tlAnim.add({duration:172,easing:"linear",targets:l,value:0,update:function(e){r.visible=0!=l.value,r.material.uniforms.alpha.value=parseFloat(l.value)}},1600),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.setting.three.camera.lookAt,x:0},1200),this.tlAnim.add({duration:400,easing:"easeInSine",targets:this.three.scene.children[0].position,y:20},1200);var d={val:0};this.tlAnim.add({duration:100,targets:d,val:[0,1],update:function(){e.three.scene.children[0].children[2].children[0].visible=0!=d.val,e.three.scene.children[0].children[2].children[0].children.forEach((function(e){e.material.uniforms.alpha.value=parseFloat(d.val),e.material.uniforms.dispFactor&&(e.material.uniforms.dispFactor.value=parseFloat(d.val))}))}},1272),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].rotation,z:-.3,x:-1.14,y:.1},1200),this.tlAnim.add({duration:60,targets:d,val:[1,0],update:function(){e.three.scene.children[0].children[2].children[0].visible=!(d.val<.02),e.three.scene.children[0].children[2].children[0].children.forEach((function(e){e.material.uniforms.alpha.value=parseFloat(d.val),e.material.uniforms.dispFactor&&(e.material.uniforms.dispFactor.value=parseFloat(d.val))}))}},1460),this.tlAnim.add({duration:400,easing:"linear",targets:this.three.scene.children[0].children[2].children[0].rotation,y:[0,-1.4],x:[0,-.3],update:function(){e.three.scene.children[0].children[2].children[0].updateMatrix()}},1200)},thirdAct:function(){var e=this,t={val:0};this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].rotation,y:-1.6,x:-1.48},1600),this.tlAnim.add({duration:100,easing:"linear",targets:this.three.scene.children[0].children[1].children[3].material,opacity:[1,0],update:function(t){e.three.scene.children[0].children[1].children[3].visible=0!=t.progress}},1600),this.tlAnim.add({duration:100,easing:"linear",targets:this.three.scene.children[0].children[1].children[4].material,opacity:[1,0],update:function(t){e.three.scene.children[0].children[1].children[4].visible=0!=t.progress}},1600),this.tlAnim.add({duration:100,targets:t,val:[0,1],update:function(){e.three.scene.children[0].children[2].children[1].visible=0!=t.val,e.three.scene.children[0].children[2].children[1].children.forEach((function(e){e.material.uniforms.alpha.value=parseFloat(t.val),e.material.uniforms.dispFactor&&(e.material.uniforms.dispFactor.value=parseFloat(t.val))}))}},1672),this.tlAnim.add({duration:400,targets:this.three.scene.children[0].children[2].rotation,y:[0,1.7],z:[0,-.2],x:[0,-.2],update:function(){e.three.scene.children[0].children[2].updateMatrix()}},1600);var n=this.three.scene.children[0].children[1].children[3],r=this.three.scene.children[0].children[1].children[4],o=this.three.scene.children[0].children.find((function(e){return"Text3"===e.name})),l={value:0};this.tlAnim.add({duration:200,targets:l,value:[0,1],update:function(){o.visible=0!=l.value,n.visible=0!=l.value,r.visible=0!=l.value,n.material.opacity=l.value,r.material.opacity=l.value,o.material.uniforms.alpha.value=parseFloat(l.value)}},1800),this.tlAnim.add({duration:40,targets:l,value:[1,0],update:function(t){o.visible=0!=l.value,o.material.uniforms.alpha.value=parseFloat(l.value),e.tlAnim.progress>80&&(e.$root.bg.screencanvasB.material.uniforms.alpha.value=parseFloat(l.value))}},2e3),this.tlAnim.add({duration:400,targets:this,intensityParallax:[30,.5]},2e3),this.tlAnim.add({duration:72,targets:t,val:0,easing:"linear",update:function(){e.three.scene.children[0].children[2].children[1].visible=!(t.val<.02),e.three.scene.children[0].children[2].children[1].children.forEach((function(e){e.material.uniforms.alpha.value=parseFloat(t.val)}))}},1920)},fourthAct:function(){this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.setting.three.camera.lookAt,y:[0-4*this.responsiveTL,0],z:60},2e3),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].rotation,x:-.24},2e3)},fifthAct:function(){var e=this,t={val:0};this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].rotation,y:-1.67},2e3),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.$root.bg.screencanvasB.position,y:[0,window.innerHeight],changeBegin:function(t){e.bgReqOn=!0},changeComplete:function(t){e.bgReqOn=!1}},2e3),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.scene.children[0].position,y:-30},2e3);var n=document.querySelector(".n");this.tlAnim.add({duration:50,easing:"linear",targets:n,opacity:0,update:function(e){e.progress>90?n.style["pointer-events"]="none":n.style["pointer-events"]="auto"}},2200),this.tlAnim.add({duration:400,easing:"easeInOutSine",targets:this.three.camera.position,z:.2*this.responsiveTL-57},2e3),this.tlAnim.add({duration:272,easing:"cubicBezier(.25, 1, .25, 1)",targets:this.three.scene.children[0].children[1].children[3].material,opacity:[1,0]},2e3),this.tlAnim.add({duration:272,easing:"cubicBezier(.25, 1, .25, 1)",targets:this.three.scene.children[0].children[1].children[4].material,opacity:[1,0]},2e3);var r={val:0};this.tlAnim.add({duration:140,targets:r,val:[0,1],update:function(){e.three.scene.children[0].children[3].children[0].visible=!(r.val<=.2),e.three.scene.children[0].children[3].children[0].material.uniforms.alpha.value=parseFloat(r.val)}},2260),this.tlAnim.add({duration:400,targets:t,val:1,update:function(){e.three.scene.children[0].children[2].children[1].children.forEach((function(e){e.material.uniforms.uKd.value=.9-.7*t.val,e.material.uniforms.uDirLightPos.value.z=5*t.val-7.5})),e.three.scene.children[0].children[0].children.forEach((function(e){e.material.uniforms.uKd.value=.9-.7*t.val,e.material.uniforms.uDirLightPos.value.z=5*t.val-7.5})),e.three.scene.children[0].children[3].children[0].material.uniforms.uKd.value=.9-.75*t.val,e.three.scene.children[0].children[3].children[0].material.uniforms.uDirLightPos.value.z=5*t.val-7.5}},2e3);var o={val:0};this.tlAnim.add({duration:100,targets:o,val:1,update:function(){e.three.scene.children[0].children[3].children[1].visible=0!=o.val,e.three.scene.children[0].children[3].children[1].material.uniforms.alphaM.value=1*o.val}},2300);var c={val:0};this.tlAnim.add({duration:100,easing:"easeInOutSine",targets:".srcsht1, .srcsht2, .srcsht3",opacity:0},2e3),this.tlAnim.add({duration:340,targets:c,val:[0,1],easing:"easeInOutSine",update:function(t){e.tlAnim.progress>80&&(e.$root.hover.phone.material.uniforms.alpha.value=parseFloat(1-c.val),e.$root.hover.phone.material.uniforms.dispFactor.value=parseFloat(c.val))}},2e3);var d=new l.i(1184274),h=new l.i(15856113);this.tlAnim.add({targets:h,r:[h.r,d.r],g:[h.g,d.g],b:[h.b,d.b],duration:400,easing:"easeInOutSine",autoplay:!1,update:function(t){e.three.renderer.setClearColor(h,t.progress/100)}},2e3)},initMainTL:function(){this.tlAnim=null,this.tlAnim=S.a.timeline({autoplay:!1,duration:2800,easing:"linear",update:this.updateHandler}),this.prevAct(),this.firstAct(),this.phoneAct(),this.secondAct(),this.thirdAct(),this.fourthAct(),this.fifthAct()},lerp:function(a,b,e){return(1-e)*a+e*b},bendPlaneInvertGeometry:function(e,t){if(e.vertices){for(var n=0;n<e.vertices.length;n++){var element=e.vertices[n];if(n%2){var r=n<e.vertices.length/2?n:e.vertices.length-n;r>85&&r<115&&(r=83),element.x=window.innerWidth/2+this.easeInOutQuadInvert(r*t*.03,0,window.innerWidth,e.vertices.length)}}e.computeFaceNormals(),e.computeVertexNormals()}},bendPlaneGeometry:function(e,t){if(e.vertices){for(var n=0;n<e.vertices.length;n++){var element=e.vertices[n];if(n%2){var r=n<e.vertices.length/2?n:e.vertices.length-n;r>95&&r<105&&(r=98),element.x=window.innerWidth/2+this.easeInOutQuad(r*t-50,0,window.innerWidth,e.vertices.length)}}e.computeFaceNormals(),e.computeVertexNormals()}},easeInOutQuad:function(e,b,t,n){return(e/=n/2)<1?t/2*e*e*e*e+b:-t/2*((e-=2)*e*e*e-2)+b},easeInOutQuadInvert:function(e,b,t,n){return t*(1-Math.pow(2,-10*e/n))+b},render:function(e){if(this.percentage=this.lerp(this.percentage,this.scrollY,.14),this.percentage=Math.floor(1e3*this.percentage)/1e3,this.tlAnim&&2800*Math.round(this.tlAnim.progress/100)!==Math.round(this.percentage)){if(this.percentage*(2800/this.maxH*.5)>2e3){for(var t=this.three.scene.children[0].children[3].children[1].geometry.attributes.alpha,n=t.count,i=0;i<n;i++)t.array[i]*=.99,t.array[i]<.1&&(t.array[i]=1);t.needsUpdate=!0}Math.round(1e3*this.tlAnim.progress)!=Math.round(this.percentage*(2800/this.maxH*.5)/2400*1e5)&&this.tlAnim.seek(this.percentage*(2800/this.maxH*.5))}this.animation(e),this.three.renderer.render(this.three.scene,this.three.camera),this.$root.hover.renderer.render(this.$root.hover.scene,this.$root.hover.camera),this.$root.hoverpg.renderer.render(this.$root.hoverpg.scene,this.$root.hoverpg.camera),this.reqAnim=requestAnimationFrame(this.render)},animation:function(e){this.three.scene.children[0]&&(this.uDirLightOffset.smoothX=this.lerp(this.uDirLightOffset.smoothX,this.uDirLightOffset.x,.14),this.uDirLightOffset.smoothY=this.lerp(this.uDirLightOffset.smoothY,this.uDirLightOffset.y,.14),this.rotOffset.smoothX=this.lerp(this.rotOffset.smoothX,this.rotOffset.x,.09),this.rotOffset.smoothY=this.lerp(this.rotOffset.smoothY,this.rotOffset.y,.09),this.three.scene.children[0].children[0].children[0].material.uniforms.uDirLightPosOffset.value.x=this.uDirLightOffset.smoothX,this.three.scene.children[0].children[0].children[0].material.uniforms.uDirLightPosOffset.value.y=this.uDirLightOffset.smoothY,this.three.scene.children[0].children[0].children[1].material.uniforms.uDirLightPosOffset.value.x=this.uDirLightOffset.smoothX,this.three.scene.children[0].children[0].children[1].material.uniforms.uDirLightPosOffset.value.y=this.uDirLightOffset.smoothY,this.three.camera.position.x=.15+this.rotOffset.smoothX*this.intensityParallax,this.three.camera.position.y=.5+this.rotOffset.smoothY*this.intensityParallax,this.$root.bg.screencanvasO&&this.$root.bg.screencanvasO.material.uniforms.parallax.value.x!==0+this.rotOffset.smoothX/45?(this.$root.bg.screencanvasO.material.uniforms.parallax.value.x=0+this.rotOffset.smoothX/45,this.$root.bg.screencanvas2.material.uniforms.parallax.value.x=0+this.rotOffset.smoothX/45,this.$root.bg.screencanvasB&&(this.$root.bg.screencanvasB.material.uniforms.parallax.value.x=0+this.rotOffset.smoothX/45),this.bgUpdate&&this.bgUpdate(this)):this.bgReqOn&&this.bgUpdate&&this.bgUpdate(this),this.three.camera.lookAt(new l.Qb(this.setting.three.camera.lookAt.x-this.rotOffset.smoothX*(this.intensityParallax/2),this.setting.three.camera.lookAt.y-this.rotOffset.smoothY*(this.intensityParallax/2),this.setting.three.camera.lookAt.z)))},animWaitlist:function(e){var t=this;this.ctcAnim=null,this.ctcAnim=S.a.timeline({autoplay:!1,duration:600,easing:"cubicBezier(.25, 1, .25, 1)",update:function(){t.updateHandler()}}),this.ctcAnim.add({targets:".ctct",translateY:["-101%",0]},0),!0!==e&&this.ctcAnim.add({duration:300,targets:".c",opacity:0,easing:"linear"},0),this.ctcAnim.play()},event_assign:function(){var e=this;this.time=0,window.addEventListener("resize",this.resize,{once:!1,passive:!0,capture:!1}),document.querySelector(".n h1").addEventListener("click",(function(){e.animToScrollY({x:0,y:0,scrollable:!0},500*e.nb)})),document.querySelector(".svgarr").addEventListener("click",(function(){e.animToScrollY({x:0,y:0,scrollable:!0},500*e.nb)})),document.querySelector(".c").addEventListener("click",(function(t){0==document.querySelector(".ctct").getBoundingClientRect().y&&e.revertAnim(!0)})),this.revertAnim=function(t){"text"==document.activeElement.type&&"object"==Object(o.a)(t)||("text"==document.activeElement.type&&document.activeElement.blur(),e.ctcAnim&&!e.wtlstLeaving&&(e.ctcAnim=null,e.ctcAnim=S.a.timeline({autoplay:!1,duration:600,easing:"easeInQuint",begin:function(){e.wtlstLeaving=!0},complete:function(){e.wtlstLeaving=!1},update:function(){e.updateHandler()}}),e.ctcAnim.add({targets:".ctct",translateY:"-101%"},0),e.ctcAnim.add({targets:".ctct .txt",easing:"easeInCubic",letterSpacing:140},0),e.ctcAnim.add({duration:300,targets:".c",opacity:1,easing:"linear"},0),e.ctcAnim.play()))},document.querySelector(".ctct").addEventListener("mouseleave",this.revertAnim),document.addEventListener("mousemove",this.moveMv);document.querySelectorAll(".wtmail").forEach((function(e){e.addEventListener("input",(function(t){!function(e,t){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?(t.parentNode.querySelector(".wtmail").classList.add("active"),t.parentNode.querySelector(".wtsubmit").classList.add("active")):(t.parentNode.querySelector(".wtmail").classList.remove("active"),t.parentNode.querySelector(".wtsubmit").classList.remove("active"))}(t,e)}))})),document.querySelectorAll(".wtsubmit").forEach((function(t){t.addEventListener("click",(function(n){var o,l=t.parentNode.querySelector(".wtmail").value;window.fetch("https://app.viral-loops.com/api/v2/events",(o={method:"POST",headers:{"Content-Type":"application/json"}},Object(r.a)(o,"headers",{"Content-Type":"application/json"}),Object(r.a)(o,"body",JSON.stringify({apiToken:"P4hwdbv7WVEGHib62YdaIizWmdc",params:{event:"registration",user:{email:l}}})),o)),t.classList.add("success"),t.parentNode.querySelector("input").value="",t.parentNode.querySelector("input").setAttribute("placeholder","WELCOME"),Object(S.a)({duration:1200,targets:t.parentNode,delay:1400,easing:"cubicBezier(.25, 1, .25, 1)",complete:function(){t.classList.remove("success"),t.classList.remove("active"),setTimeout((function(){t.parentNode.querySelector("input").classList.remove("active")}),300),t.parentNode.querySelector("input").setAttribute("placeholder","ENTER EMAIL TO JOIN THE WAITLIST"),t.classList.contains("fromctct")&&e.revertAnim(!0)}})}))}))},updateHandler:function(){this.three.camera.updateProjectionMatrix()},initInviews:function(){document.querySelectorAll(".s1 h2 span").forEach((function(e){e.innerHTML=e.innerHTML.replace(/([^\x00-\x80]|\w)/g,"<span class='lt'>$&</span>")})),S.a.timeline({autoplay:!1,delay:1200,duration:600}).add({targets:".s1 h2 .lt",scale:[.3,1],opacity:[0,1],rotateZ:["-10deg","0"],rotateY:["-30deg","0"],translateY:["-10px","0"],translateX:["-10px","0"],translateZ:0,easing:"easeInOutExpo",delay:function(e,i){return 50*(i+1)}},400)},moveMv:function(e){if(e&&e.clientX&&e.clientY&&this.uDirLightOffset&&this.three.scene.children[0]&&this.three.scene.children[0].children[0]){if(this.eClientX=e.clientX,this.eClientY=e.clientY,e.touches){var t=e.touches[0];e.clientX=1.6*(t.pageX-window.innerWidth/2),this.mouseY=.1}else this.mouseY=e.clientY-window.innerHeight/2;this.mouseX=e.clientX-window.innerWidth/2,this.uDirLightOffset.x=-this.mouseX/100-this.three.scene.children[0].children[0].children[0].position.x/10+this.setting.three.camera.lookAt.x/15,this.uDirLightOffset.y=-this.mouseY/100-this.three.scene.children[0].children[0].children[0].position.y/10+this.setting.three.camera.lookAt.y/15,this.rotOffset.x=-this.mouseX/1500,this.rotOffset.y=-this.mouseY/1500}},resize:function(){("text"!=document.activeElement.type&&(this.storedHeight!=window.innerHeight||this.storedWidth!=window.innerWidth)||window.innerWidth>767)&&location.reload()}}},ee=(n(210),Object(_.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"lodr"},[e._v("0%")]),e._v(" "),n("svg",{attrs:{version:"1.1",id:"slogo",x:"0px",y:"0px",width:"207px",height:"84px",viewBox:"0 0 207 84","enable-background":"new 0 0 207 84","xml:space":"preserve"}},[n("g",{attrs:{id:"uy"}},[n("path",{attrs:{d:"M80.399,31.601c0-2.1,1.8-3.9,4.2-3.9s4.2,1.8,4.2,3.9V54.4c0,2.1-1.8,3.899-4.2,3.899c-3,0-4.2-3-4.2-3h-0.6\n        c0,0-2.4,3.6-7.5,3.6c-6,0-11.099-5.1-11.099-12.6V31.601c0-2.1,1.8-3.9,4.2-3.9s4.2,1.8,4.2,3.9V46.3c0,3,2.4,5.4,5.4,5.4\n        c3,0,5.4-2.4,5.4-5.4V31.601z"}}),e._v(" "),n("path",{attrs:{d:"M104.999,55l-10.8-20.399c0,0-0.9-1.5-0.9-3c0-2.1,1.8-3.9,4.2-3.9s3.24,0.96,4.5,3.3l7.2,13.2h0.6l5.7-12.899\n        c0.9-2.04,2.4-3.6,4.5-3.6c2.4,0,4.2,1.8,4.2,3.9c0,1.2-0.9,3-0.9,3l-14.7,32.999c-0.9,2.1-2.4,3.6-4.5,3.6\n        c-2.4,0-4.2-1.8-4.2-3.899c0-1.2,0.9-3,0.9-3L104.999,55z"}})]),e._v(" "),n("g",[n("path",{attrs:{id:"v",d:"M60.449,55.3L49.65,25.901c0,0-1.2-3-1.2-4.5c0-2.4,2.1-4.5,4.8-4.5c2.7,0,4.14,1.5,5.1,4.2l9,25.799h0.6l9-25.799\n        c0.96-2.7,2.4-4.2,5.1-4.2c2.7,0,4.8,2.1,4.8,4.5c0,1.5-1.2,4.5-1.2,4.5L74.849,55.3c-1.2,3.3-3.3,5.4-7.199,5.4\n        C63.75,60.7,61.649,58.6,60.449,55.3z"}}),e._v(" "),n("path",{attrs:{id:"i",d:"M91.649,20.501c0-2.4,1.8-4.2,4.5-4.2c2.7,0,4.5,1.8,4.5,4.2s-1.86,4.2-4.5,4.2C93.45,24.701,91.649,22.901,91.649,20.501z\n        M100.349,55.9c0,2.1-1.8,3.899-4.2,3.899s-4.2-1.8-4.2-3.899V33.101c0-2.1,1.8-3.9,4.2-3.9s4.2,1.8,4.2,3.9V55.9z"}}),e._v(" "),n("g",{attrs:{id:"be"}},[n("path",{attrs:{d:"M107.849,20.802c0-2.1,1.8-3.9,4.2-3.9s4.2,1.8,4.2,3.9v11.399h0.6c0,0,2.4-3.6,7.5-3.6c6.3,0,11.7,5.1,11.7,12.9v6\n          c0,6.9-6,12.899-14.1,12.899s-14.1-6-14.1-12.899V20.802z M116.249,41.501v6c0,3.3,2.4,5.7,5.7,5.7s5.7-2.4,5.7-5.7v-6\n          c0-3.3-2.4-5.7-5.7-5.7S116.249,38.201,116.249,41.501z"}}),e._v(" "),n("path",{attrs:{d:"M169.647,43.601c0,2.1-1.8,3.9-4.2,3.9h-15.599c0,3.3,2.4,5.7,6,5.7c5.4,0,6-2.7,9-2.7c2.1,0,3.6,1.5,3.6,3.3\n          c0,2.7-3.9,6.6-12.6,6.6c-8.399,0-14.399-6-14.399-12.899v-6c0-6.9,6-12.9,14.1-12.9s14.1,6,14.1,12.9V43.601z M161.248,41.201\n          c0-3-2.4-5.4-5.7-5.4s-5.7,2.4-5.7,5.4H161.248z"}})])])]),e._v(" "),n("background"),e._v(" "),n("dom")],1)}),[],!1,null,null,null));t.default=ee.exports}}]);